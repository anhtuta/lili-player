(this["webpackJsonpliliana-player"]=this["webpackJsonpliliana-player"]||[]).push([[5],{106:function(e,a,t){},107:function(e,a,t){},112:function(e,a,t){"use strict";t.r(a);var n=t(25),r=t(17),o=t(18),s=t(20),i=t(19),c=t(0),u=t.n(c),l=t(2),p=(t(106),function(e){var a=e.text,t=e.onClick,n=e.disabled,r=void 0!==n&&n,o=e.className?e.className:"btn-success",s="btn ".concat(o);return u.a.createElement("button",{className:"btn "+s,onClick:t,disabled:r},a)}),m=(t(54),function(e){Object(s.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).onChange=function(e){var a=e.target.value,t=n.props.maxLength?n.props.maxLength:200,r="";a.length>t?r="Max length of input is: "+t:n.regexValidation(a)||(r=n.props.regexErrorMsg?n.props.regexErrorMsg:"Input is invalid"),n.setState({value:a,errorMsg:r}),n.props.onChange({name:n.props.name,value:a,invalid:!!r})},n.onKeyPress=function(e){var a=n.props.onKeyPress;a&&a(e)},n.regexValidation=function(e){var a=n.props.regex?n.props.regex:"";return""===e||""===a||e.match(a)},n.state={value:e.defaultValue?e.defaultValue:"",errorMsg:""},n}return Object(o.a)(t,[{key:"render",value:function(){var e=this.props,a=e.name,t=e.label,n=e.disabled,r=void 0!==n&&n,o=e.isRequire,s=void 0!==o&&o,i=e.type,c=void 0===i?"text":i,l=e.placeholder,p=this.state,m=p.value,d=p.errorMsg;return u.a.createElement("div",{className:"input-wrapper"},t&&u.a.createElement("label",{className:"input-label"},t,s&&u.a.createElement("span",{className:"input-require"},"\xa0*")),u.a.createElement("div",{className:"input-text-wrapper"},u.a.createElement("input",{type:c,name:a,value:m,disabled:r,onChange:this.onChange,className:"input-text"+(d?" input-error":""),placeholder:l,onKeyPress:this.onKeyPress}),!!d&&u.a.createElement("div",{className:"input-error-msg"},d)))}}]),t}(c.PureComponent)),d=t(47),g=t(46),f=(t(107),function(e){Object(s.a)(t,e);var a=Object(i.a)(t);function t(e){var o;return Object(r.a)(this,t),(o=a.call(this,e)).onChange=function(e){o.setState(Object(n.a)({},e.name,e.value))},o.handleSubmit=function(){var e=o.state,a={username:e.username,password:e.password};d.a.login(a,(function(){o.props.location.state&&(o.from=o.props.location.state.from),window.location.hash=o.from.pathname,window.location.reload()}),(function(e){g.a.error(e)}))},o.state={username:"",password:"",error:!1,redirectToRefer:!1},o.from={pathname:"/"},o}return Object(o.a)(t,[{key:"render",value:function(){var e=this.state,a=e.username,t=e.password;return e.redirectToRefer?u.a.createElement(l.a,{to:this.from}):u.a.createElement("div",{className:"login-wrapper"},u.a.createElement("h2",{className:"login-header"},"Login"),u.a.createElement(m,{label:"Username",name:"username",value:a,onChange:this.onChange}),u.a.createElement(m,{label:"Password",name:"password",value:t,onChange:this.onChange,type:"password"}),u.a.createElement(p,{text:"Login",onClick:this.handleSubmit}))}}]),t}(c.PureComponent));a.default=f},46:function(e,a,t){"use strict";var n=t(22),r=(t(53),{position:n.b.POSITION.TOP_RIGHT,autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),o={info:function(e){n.b.info(e,r)},success:function(e){n.b.success(e,r)},warn:function(e){n.b.warn(e,r)},error:function(e){var a;a=e.data&&e.data.message?e.data.message:e?e.toString():"Error: unexpected error occurred!",n.b.error(a,r)}};a.a=o},47:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var n=t(17),r=t(8),o=t(48),s=t(46),i=new function e(){Object(n.a)(this,e),this.isAuthenticated=function(){return!!localStorage.getItem(r.a)},this.login=function(e,a,t){var n={username:e.username,password:e.password};o.a.post("/signin",n).then((function(e){localStorage.setItem(r.a,e[r.a]),a()})).catch((function(e){t(e.data?e.data:e)}))},this.logout=function(){o.a.post("/signout").then((function(e){localStorage.removeItem(r.a),window.location="/"})).catch((function(e){console.log(e),s.a.error(e)}))},this.getMe=function(){return o.a.get("/api/user/me")},this.redirectToLoginPage=function(){s.a.info("You need to login first!"),localStorage.removeItem(r.a),window.location.hash="/login"},this.rolesHasPermission=function(e,a){if(!r.g[a])return!0;for(var t=0;t<e.length;t++)if(r.g[a].includes(e[t]))return!0;return!1},this.userInfo=null}},48:function(e,a,t){"use strict";var n=t(49),r=t(50),o=t.n(r),s=t(51),i=t.n(s),c=t(8),u=t(47);o.a.interceptors.request.use((function(e){var a=Object(n.a)(Object(n.a)({},e),{},{paramsSerializer:function(e){return i.a.stringify((a=e,Object.keys(a).forEach((function(e){null!==a[e]&&void 0!==a[e]||delete a[e]})),a),{arrayFormat:"repeat"});var a},baseURL:"https://ducdongyyen.com/laravel/public",headers:Object(n.a)(Object(n.a)({},e.headers),{},{Pragma:"no-cache"})});return localStorage.getItem(c.a)&&(a.headers.Authorization="Bearer ".concat(localStorage.getItem(c.a))),a}),(function(e){return console.log(e),Promise.reject(e)})),o.a.interceptors.response.use((function(e){return e&&e.data?e.data:e}),(function(e){return e.response&&e.response.status?(401===e.response.status&&u.a.redirectToLoginPage(),Promise.reject(e.response)):Promise.reject(e)})),a.a=o.a},54:function(e,a,t){}}]);