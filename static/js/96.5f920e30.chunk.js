"use strict";(self.webpackChunkliliana_player=self.webpackChunkliliana_player||[]).push([[96],{96:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var r=t(43),a=t(981),o=t(579);const n=e=>{const{text:s,onClick:t,disabled:r=!1}=e,a=e.className?e.className:"btn-success",n="btn ".concat(a);return(0,o.jsx)("button",{className:"btn "+n,onClick:t,disabled:r,children:s})};t(702);class i extends r.PureComponent{constructor(e){super(e),this.onChange=e=>{const{value:s}=e.target,t=this.props.maxLength?this.props.maxLength:200;let r="";s.length>t?r="Max length of input is: "+t:this.regexValidation(s)||(r=this.props.regexErrorMsg?this.props.regexErrorMsg:"Input is invalid"),this.setState({value:s,errorMsg:r}),this.props.onChange({name:this.props.name,value:s,invalid:!!r})},this.onKeyPress=e=>{const{onKeyPress:s}=this.props;s&&s(e)},this.regexValidation=e=>{const s=this.props.regex?this.props.regex:"";return""===e||""===s||e.match(s)},this.state={value:e.defaultValue?e.defaultValue:"",errorMsg:""}}render(){const{name:e,label:s,disabled:t=!1,isRequire:r=!1,type:a="text",placeholder:n}=this.props,{value:i,errorMsg:l}=this.state;return(0,o.jsxs)("div",{className:"input-wrapper",children:[s&&(0,o.jsxs)("label",{className:"input-label",children:[s,r&&(0,o.jsx)("span",{className:"input-require",children:"\xa0*"})]}),(0,o.jsxs)("div",{className:"input-text-wrapper",children:[(0,o.jsx)("input",{type:a,name:e,value:i,disabled:t,onChange:this.onChange,className:"input-text"+(l?" input-error":""),placeholder:n,onKeyPress:this.onKeyPress}),!!l&&(0,o.jsx)("div",{className:"input-error-msg",children:l})]})]})}}const l=i;var c=t(304),h=t(782);class p extends r.PureComponent{constructor(e){super(e),this.onChange=e=>{this.setState({[e.name]:e.value})},this.handleSubmit=()=>{const{username:e,password:s}=this.state,t={username:e,password:s};c.j.login(t,()=>{this.props.location.state&&(this.from=this.props.location.state.from),window.location.hash=this.from.pathname,window.location.reload()},e=>{h.A.error(e)})},this.state={username:"",password:"",error:!1,redirectToRefer:!1},this.from={pathname:"/"}}render(){const{username:e,password:s,redirectToRefer:t}=this.state;return t?(0,o.jsx)(a.C5,{to:this.from}):(0,o.jsxs)("div",{className:"login-wrapper",children:[(0,o.jsx)("h2",{className:"login-header",children:"Login"}),(0,o.jsx)(l,{label:"Username",name:"username",value:e,onChange:this.onChange}),(0,o.jsx)(l,{label:"Password",name:"password",value:s,onChange:this.onChange,type:"password"}),(0,o.jsx)(n,{text:"Login",onClick:this.handleSubmit})]})}}const u=p},101:(e,s,t)=>{t.d(s,{A:()=>l});var r=t(555),a=t(263),o=t(246),n=t(123),i=t(304);a.A.interceptors.request.use(function(e){const s=(0,r.A)((0,r.A)({},e),{},{paramsSerializer:e=>{return o.A.stringify((s=e,Object.keys(s).forEach(e=>{null!==s[e]&&void 0!==s[e]||delete s[e]}),s),{arrayFormat:"repeat"});var s},baseURL:"https://blog.nenmongvietnam.com/laravel/public",headers:(0,r.A)((0,r.A)({},e.headers),{},{Pragma:"no-cache"})});return localStorage.getItem(n.Xh)&&(s.headers.Authorization="Bearer ".concat(localStorage.getItem(n.Xh))),s},e=>(console.log(e),Promise.reject(e))),a.A.interceptors.response.use(e=>e&&e.data?e.data:e,e=>e.response&&e.response.status?(401===e.response.status&&i.j.redirectToLoginPage(),Promise.reject(e.response)):Promise.reject(e));const l=a.A},304:(e,s,t)=>{t.d(s,{j:()=>n});var r=t(123),a=t(101),o=t(782);let n=new class{constructor(){this.isAuthenticated=()=>!!localStorage.getItem(r.Xh),this.login=(e,s,t)=>{let{username:o,password:n}=e;const i={username:o,password:n};a.A.post("/signin",i).then(e=>{localStorage.setItem(r.Xh,e[r.Xh]),s()}).catch(e=>{t(e.data?e.data:e)})},this.logout=()=>{a.A.post("/signout").then(e=>{localStorage.removeItem(r.Xh),window.location="/"}).catch(e=>{console.log(e),o.A.error(e)})},this.getMe=()=>a.A.get("/api/user/me"),this.redirectToLoginPage=()=>{o.A.info("You need to login first!"),localStorage.removeItem(r.Xh),window.location.hash="/login"},this.rolesHasPermission=(e,s)=>{if(!r.cq[s])return!0;for(let t=0;t<e.length;t++)if(r.cq[s].includes(e[t]))return!0;return!1},this.userInfo=null}}},702:()=>{},782:(e,s,t)=>{t.d(s,{A:()=>o});var r=t(115);t(342);const a={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},o={info:e=>{r.oR.info(e,a)},success:e=>{r.oR.success(e,a)},warn:e=>{r.oR.warn(e,a)},error:e=>{let s;s=e.data&&e.data.message?e.data.message:e?e.toString():"Error: unexpected error occurred!",r.oR.error(s,a)}}}}]);
//# sourceMappingURL=96.5f920e30.chunk.js.map