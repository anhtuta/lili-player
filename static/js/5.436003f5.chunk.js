(this["webpackJsonpliliana-player"]=this["webpackJsonpliliana-player"]||[]).push([[5],{37:function(e,t,a){"use strict";var s=a(16);a(44);const r={position:s.b.POSITION.TOP_RIGHT,autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},n={info:e=>{s.b.info(e,r)},success:e=>{s.b.success(e,r)},warn:e=>{s.b.warn(e,r)},error:e=>{let t;t=e.data&&e.data.message?e.data.message:e?e.toString():"Error: unexpected error occurred!",s.b.error(t,r)}};t.a=n},39:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var s=a(8),r=a(40),n=a(37);let o=new class{constructor(){this.isAuthenticated=()=>!!localStorage.getItem(s.a),this.login=(e,t,a)=>{let{username:n,password:o}=e;const i={username:n,password:o};r.a.post("/signin",i).then(e=>{localStorage.setItem(s.a,e[s.a]),t()}).catch(e=>{a(e.data?e.data:e)})},this.logout=()=>{r.a.post("/signout").then(e=>{localStorage.removeItem(s.a),window.location="/"}).catch(e=>{console.log(e),n.a.error(e)})},this.getMe=()=>r.a.get("/api/user/me"),this.redirectToLoginPage=()=>{n.a.info("You need to login first!"),localStorage.removeItem(s.a),window.location.hash="/login"},this.rolesHasPermission=(e,t)=>{if(!s.g[t])return!0;for(let a=0;a<e.length;a++)if(s.g[t].includes(e[a]))return!0;return!1},this.userInfo=null}}},40:function(e,t,a){"use strict";var s=a(71),r=a(43),n=a.n(r),o=a(8),i=a(39);s.a.interceptors.request.use((function(e){const t={...e,paramsSerializer:e=>{return n.a.stringify((t=e,Object.keys(t).forEach(e=>{null!==t[e]&&void 0!==t[e]||delete t[e]}),t),{arrayFormat:"repeat"});var t},baseURL:"https://blog.nenmongvietnam.com/laravel/public",headers:{...e.headers,Pragma:"no-cache"}};return localStorage.getItem(o.a)&&(t.headers.Authorization="Bearer "+localStorage.getItem(o.a)),t}),e=>(console.log(e),Promise.reject(e))),s.a.interceptors.response.use(e=>e&&e.data?e.data:e,e=>e.response&&e.response.status?(401===e.response.status&&i.a.redirectToLoginPage(),Promise.reject(e.response)):Promise.reject(e)),t.a=s.a},45:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(2);a(66);var o=e=>{const{text:t,onClick:a,disabled:s=!1}=e,n="btn "+(e.className?e.className:"btn-success");return r.a.createElement("button",{className:"btn "+n,onClick:a,disabled:s},t)};a(45);class i extends s.PureComponent{constructor(e){super(e),this.onChange=e=>{const{value:t}=e.target,a=this.props.maxLength?this.props.maxLength:200;let s="";t.length>a?s="Max length of input is: "+a:this.regexValidation(t)||(s=this.props.regexErrorMsg?this.props.regexErrorMsg:"Input is invalid"),this.setState({value:t,errorMsg:s}),this.props.onChange({name:this.props.name,value:t,invalid:!!s})},this.onKeyPress=e=>{const{onKeyPress:t}=this.props;t&&t(e)},this.regexValidation=e=>{const t=this.props.regex?this.props.regex:"";return""===e||""===t||e.match(t)},this.state={value:e.defaultValue?e.defaultValue:"",errorMsg:""}}render(){const{name:e,label:t,disabled:a=!1,isRequire:s=!1,type:n="text",placeholder:o}=this.props,{value:i,errorMsg:l}=this.state;return r.a.createElement("div",{className:"input-wrapper"},t&&r.a.createElement("label",{className:"input-label"},t,s&&r.a.createElement("span",{className:"input-require"},"\xa0*")),r.a.createElement("div",{className:"input-text-wrapper"},r.a.createElement("input",{type:n,name:e,value:i,disabled:a,onChange:this.onChange,className:"input-text"+(l?" input-error":""),placeholder:o,onKeyPress:this.onKeyPress}),!!l&&r.a.createElement("div",{className:"input-error-msg"},l)))}}var l=i,c=a(39),u=a(37);a(67);class p extends s.PureComponent{constructor(e){super(e),this.onChange=e=>{this.setState({[e.name]:e.value})},this.handleSubmit=()=>{const{username:e,password:t}=this.state,a={username:e,password:t};c.a.login(a,()=>{this.props.location.state&&(this.from=this.props.location.state.from),window.location.hash=this.from.pathname,window.location.reload()},e=>{u.a.error(e)})},this.state={username:"",password:"",error:!1,redirectToRefer:!1},this.from={pathname:"/"}}render(){const{username:e,password:t,redirectToRefer:a}=this.state;return a?r.a.createElement(n.a,{to:this.from}):r.a.createElement("div",{className:"login-wrapper"},r.a.createElement("h2",{className:"login-header"},"Login"),r.a.createElement(l,{label:"Username",name:"username",value:e,onChange:this.onChange}),r.a.createElement(l,{label:"Password",name:"password",value:t,onChange:this.onChange,type:"password"}),r.a.createElement(o,{text:"Login",onClick:this.handleSubmit}))}}t.default=p}}]);
//# sourceMappingURL=5.436003f5.chunk.js.map