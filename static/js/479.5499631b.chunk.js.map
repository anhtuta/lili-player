{"version":3,"file":"static/js/479.5499631b.chunk.js","mappings":"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","sources":["service/axiosClient.js","components/Auth/Auth.js","components/Toast/Toast.js","pages/BaiHat/BaiHatService.js","components/Input/SearchBox.js","components/Modal/Modal.jsx","pages/BaiHat/BaiHatTable.js","pages/BaiHat/Player.js","service/scroll.js","pages/BaiHat/Setting.js","pages/BaiHat/Waveform.js","pages/BaiHat/LeftPlayground.js","components/LyricCard/LyricSelectionModal.jsx","components/LyricCard/LyricDownloadModal.jsx","components/LyricCard/LyricCardModal.jsx","buildInfo.js","pages/BaiHat/BaiHat.js"],"sourcesContent":["import axios from 'axios';\nimport queryString from 'query-string';\nimport { ACCESS_TOKEN } from '../constants/Constants';\nimport { auth } from '../components/Auth/Auth';\n\nconst cleanParam = (obj) => {\n  Object.keys(obj).forEach((k) => {\n    if (obj[k] === null || obj[k] === undefined) {\n      delete obj[k];\n    }\n  });\n  return obj;\n};\n\naxios.interceptors.request.use(\n  function (config) {\n    const newConfig = {\n      ...config,\n      paramsSerializer: (params) =>\n        queryString.stringify(cleanParam(params), { arrayFormat: 'repeat' }),\n      baseURL: process.env.REACT_APP_HOST_API,\n      // withCredentials: true,\n      headers: {\n        ...config.headers,\n        Pragma: 'no-cache'\n      }\n    };\n\n    // Add auth token\n    if (localStorage.getItem(ACCESS_TOKEN)) {\n      newConfig.headers.Authorization = `Bearer ${localStorage.getItem(ACCESS_TOKEN)}`;\n    }\n\n    return newConfig;\n  },\n  (error) => {\n    console.log(error);\n    return Promise.reject(error);\n  }\n);\n\naxios.interceptors.response.use(\n  (response) => {\n    if (response && response.data) return response.data;\n    return response;\n  },\n  (error) => {\n    if (error.response && error.response.status) {\n      if (error.response.status === 401) {\n        auth.redirectToLoginPage();\n      }\n      //... handle other statuses\n      return Promise.reject(error.response);\n    } else {\n      return Promise.reject(error);\n    }\n  }\n);\n\nexport default axios;\n","import { ACCESS_TOKEN } from '../../constants/Constants';\nimport axiosClient from '../../service/axiosClient';\nimport Toast from '../Toast/Toast';\nimport { ROLE_TABLE } from '../../constants/Constants';\n\nclass Auth {\n  constructor() {\n    this.userInfo = null;\n  }\n\n  isAuthenticated = () => {\n    const access_token = localStorage.getItem(ACCESS_TOKEN);\n    return !!access_token;\n  };\n\n  login = ({ username, password }, successCallback, failCallback) => {\n    const data = {\n      username,\n      password\n    };\n    axiosClient\n      .post('/signin', data)\n      .then((res) => {\n        localStorage.setItem(ACCESS_TOKEN, res[ACCESS_TOKEN]);\n        successCallback();\n      })\n      .catch((err) => {\n        failCallback(err.data ? err.data : err);\n      });\n  };\n\n  logout = () => {\n    axiosClient\n      .post('/signout')\n      .then((res) => {\n        localStorage.removeItem(ACCESS_TOKEN);\n        window.location = '/';\n      })\n      .catch((err) => {\n        console.log(err);\n        Toast.error(err);\n      });\n  };\n\n  getMe = () => {\n    return axiosClient.get('/api/user/me');\n  };\n\n  redirectToLoginPage = () => {\n    Toast.info('You need to login first!');\n    localStorage.removeItem(ACCESS_TOKEN);\n    window.location.hash = '/login';\n  };\n\n  /**\n   * Check xem mng roles c tn ti role no c quyn truy cp path hay ko\n   * @param {string[]} roles - Array of role\n   * @param {string} path - URL\n   */\n  rolesHasPermission = (roles, path) => {\n    if (!ROLE_TABLE[path]) return true;\n    for (let i = 0; i < roles.length; i++) {\n      if (ROLE_TABLE[path].includes(roles[i])) return true;\n    }\n    // Dng forEach: bt ng b nn ko c nh!\n    // N s return false trc khi chy vo trong forEach\n    // roles.forEach(role => {\n    //   if (ROLE_TABLE[path].includes(role)) return true;\n    // });\n    return false;\n  };\n}\n\nexport let auth = new Auth();\n","import { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst options = {\n  position: 'top-right',\n  autoClose: 3000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined\n};\n\nconst info = (text) => {\n  toast.info(text, options);\n};\n\nconst success = (text) => {\n  toast.success(text, options);\n};\n\nconst warn = (text) => {\n  toast.warn(text, options);\n};\n\nconst error = (err) => {\n  let msg;\n  if (err.data && err.data.message) msg = err.data.message;\n  else if (err) msg = err.toString();\n  else msg = 'Error: unexpected error occurred!';\n  toast.error(msg, options);\n};\n\nconst customToast = {\n  info,\n  success,\n  warn,\n  error\n};\n\nexport default customToast;\n","import axiosClient from '../../service/axiosClient';\n\nconst getAllSongs = (params) => {\n  return axiosClient.get('/api/song/all', { params });\n};\n\nconst getLyric = (file) => {\n  return axiosClient.get('/api/lyric?file=' + file);\n};\n\nconst updateListen = (path) => {\n  return axiosClient.put('/api/song/listens?path=' + path);\n};\n\nconst getKaraokeWordStyle = (lyric_playground, process) => {\n  let isLightTheme = lyric_playground.classList.contains('lyric-pg-light');\n  return (\n    'background-image:' +\n    //\"-webkit-linear-gradient(top, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 100%), \" +\n    '-webkit-linear-gradient(left, ' +\n    (isLightTheme ? '#2199F9' : '#FC0') +\n    ' ' +\n    process +\n    '%, ' +\n    (isLightTheme ? '#333' : '#FFF') +\n    ' 0%)'\n  );\n};\n\nconst fillKaraokeWord = (lyric_playground, word) => {\n  word.setAttribute('style', getKaraokeWordStyle(lyric_playground, 100));\n};\n\nconst setBulletText = (lyric_playground, emptyWord, bullet) => {\n  let bulletArr = ['&nbsp;', '', '', '', '', ''];\n  emptyWord.innerHTML = bulletArr[bullet];\n  fillKaraokeWord(lyric_playground, emptyWord);\n};\n\nconst runKaraokeEffect = (lyric_playground, myAudio, currWord, st, en) => {\n  let process = ((myAudio.currentTime - st) * 100) / (en - st);\n  currWord.setAttribute('style', getKaraokeWordStyle(lyric_playground, process));\n};\n\nconst emptyKaraokeWord = (word) => {\n  word.setAttribute('style', '');\n};\n\nconst BaiHatService = {\n  getAllSongs,\n  getLyric,\n  updateListen,\n  getKaraokeWordStyle,\n  fillKaraokeWord,\n  setBulletText,\n  runKaraokeEffect,\n  emptyKaraokeWord\n};\n\nexport default BaiHatService;\n","import React, { PureComponent } from 'react';\nimport './Input.scss';\n\nconst DEFAULT_INPUT_MAX_LENGTH = 200;\nconst TYPING_INTERVAL = 300;\n\nclass SearchBox extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      errorMsg: '',\n      invalid: false,\n      focus: false\n    };\n    this.typingTimer = null;\n  }\n\n  onChange = (e) => {\n    const { value } = e.target;\n    const maxLength = this.props.maxLength ? this.props.maxLength : DEFAULT_INPUT_MAX_LENGTH;\n    let errorMsg = '';\n\n    if (value.length > maxLength) {\n      errorMsg = 'Max length of search text is: ' + maxLength;\n    } else if (!this.regexValidation(value)) {\n      errorMsg = this.props.regexErrorMsg ? this.props.regexErrorMsg : 'Search text is invalid';\n    }\n\n    this.setState({\n      value,\n      errorMsg\n    });\n  };\n\n  onKeyUp = (e, searchText) => {\n    if (e.keyCode === 13) {\n      // Enter\n      this.onSearch(searchText);\n    } else {\n      this.typingTimer = setTimeout(() => {\n        this.onSearch(searchText);\n      }, TYPING_INTERVAL);\n    }\n  };\n\n  onKeyDown = () => {\n    clearTimeout(this.typingTimer);\n  };\n\n  onSearch = () => {\n    let { value } = this.state;\n    this.props.onSearch({ name: this.props.name, value });\n  };\n\n  onClear = () => {\n    this.setState({\n      value: ''\n    });\n    this.props.onSearch({ name: this.props.name, value: null });\n  };\n\n  regexValidation = (value) => {\n    const regex = this.props.regex ? this.props.regex : '';\n    if (value === '' || regex === '') return true;\n    return value.match(regex);\n  };\n\n  render() {\n    const { name, label, disabled = false, isRequire = false, type = 'text', placeholder = 'Search...' } = this.props;\n\n    const { value, errorMsg } = this.state;\n\n    return (\n      <div className=\"input-wrapper\">\n        {label && (\n          <label className=\"input-label\">\n            {label}\n            {isRequire && <span className=\"input-require\">&nbsp;*</span>}\n          </label>\n        )}\n        <div className=\"input-search-wrapper\">\n          <i className=\"fa fa-search input-icon-search\" onClick={this.onSearch}></i>\n          <input\n            type={type}\n            name={name}\n            value={value}\n            disabled={disabled}\n            onChange={this.onChange}\n            className={'input-text input-text-search ' + (!!errorMsg ? ' input-error' : '')}\n            placeholder={placeholder}\n            onKeyUp={this.onKeyUp}\n            onKeyDown={this.onKeyDown}\n          />\n          {value && <i className=\"fa fa-times input-icon-clear\" onClick={this.onClear}></i>}\n          {!!errorMsg && <div className=\"input-error-msg\">{errorMsg}</div>}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SearchBox;\n","import React from 'react';\nimport './Modal.scss';\n\nconst Modal = (props) => {\n  return (\n    <div className=\"modal-wrapper\">\n      <span className=\"close\" title=\"Close\" onClick={props.onClose}>\n        &times;\n      </span>\n      <div className=\"modal-content\">{props.children}</div>\n      <div className=\"caption\">{props.caption}</div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import React from 'react';\nimport SearchBox from '../../components/Input/SearchBox';\nimport Modal from '../../components/Modal/Modal';\nimport { getAbsoluteUrl } from '../../service/UtilService';\nimport musicIcon from '../../assets/icons/music_icon.jpg';\n\nconst BaiHatTable = (props) => {\n  const [showModalPicture, setShowModalPicture] = React.useState(false);\n  const [selectedSong, setSelectedSong] = React.useState(null);\n\n  const onClickPicture = (song) => {\n    if (song.image_url) {\n      setSelectedSong({ ...song });\n      setShowModalPicture(true);\n    }\n  };\n\n  const onCloseModal = () => {\n    setSelectedSong(null);\n    setShowModalPicture(false);\n  };\n\n  const caption = selectedSong ? selectedSong.artist + ' - ' + selectedSong.title : '';\n  const rainbowColors = [\n    // '#f80c12', // Lots of red, currently i don't want it\n    // '#ee1100',\n    '#ff3311',\n    '#ff4422',\n    '#ff6644',\n    '#ff9933',\n    '#feae2d',\n    '#ccbb33',\n    '#d0c310',\n    '#aacc22',\n    '#69d025',\n    '#22ccaa',\n    '#12bdb9',\n    '#11aabb',\n    '#4444dd',\n    '#3311bb',\n    '#3b0cbd',\n    '#442299'\n  ];\n  const lastSoyBg = rainbowColors[rainbowColors.length - 1];\n  const uniqueSoys = [...new Set(props.songData.map((song) => song.song_of_the_year).filter(Boolean))].sort((a, b) => b - a); // Descending: highest first\n  const getSoyBackgroundColor = (soy) => {\n    if (!soy) return lastSoyBg; // default color if no SOY\n    const index = uniqueSoys.indexOf(soy);\n    // console.log('getSoyBackgroundColor', soy, index);\n    return rainbowColors[index] || lastSoyBg;\n  };\n  const getSoyTextColor = (soy) => {\n    if (!soy) return '#fff'; // default color if no SOY\n    const index = uniqueSoys.indexOf(soy);\n    return index < rainbowColors.length / 2 ? '#000' : '#fff';\n  };\n\n  const imgModalStyle = {\n    width: '400px', // nu browser width >= 400px th img width cng ch 400px\n    maxWidth: '80%' //  resize theo with ca browser nu browser width < 400px\n  };\n\n  return (\n    <div id=\"all_songs\">\n      <div className=\"search-wrapper\">\n        <SearchBox name=\"searchText\" onSearch={props.onSearch} />\n      </div>\n      <div className=\"all-song-value custom-scrollbar\">\n        <table className=\"table_striped\" id=\"songTable\" cellSpacing=\"0\" cellPadding=\"0\">\n          <thead>\n            <tr>\n              <th style={{ textAlign: 'right' }}>No.</th>\n              <th\n                style={{ cursor: 'pointer', minWidth: '220px' }}\n                onClick={() => props.getAllSongs({ sortBy: 'title', sortOrder: 'ASC' })}\n              >\n                Song\n              </th>\n              <th style={{ cursor: 'pointer' }} onClick={() => props.getAllSongs({ sortBy: 'listens', sortOrder: 'DESC' })}>\n                Listens\n              </th>\n              <th\n                style={{ cursor: 'pointer' }}\n                onClick={() => props.getAllSongs({ sortBy: 'song_of_the_year', sortOrder: 'DESC' })}\n                title=\"Song of the year\"\n              >\n                SOY\n              </th>\n              <th style={{ cursor: 'pointer' }} onClick={() => props.getAllSongs({ sortBy: 'type', sortOrder: 'ASC' })}>\n                Type\n              </th>\n              <th style={{ cursor: 'pointer' }} onClick={() => props.getAllSongs({ sortBy: 'createdDate', sortOrder: 'DESC' })}>\n                Date\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {props.songData.map((song, index) => {\n              const image_url = song.image_url ? getAbsoluteUrl(song.image_url) : musicIcon;\n              return (\n                <tr\n                  key={song.id}\n                  className={props.currSong && props.currSong.path === song.path ? 'tr-active' : ''}\n                  id={'tr-' + song.id}\n                >\n                  <td>{index + 1}</td>\n                  <td className=\"td-song-info\">\n                    <img\n                      className=\"song-picture\"\n                      src={image_url}\n                      alt={song.artist + ' - ' + song.title}\n                      onClick={() => onClickPicture(song)}\n                    />\n                    <a className=\"song-item\" href={'#/bai-hat/' + song.path} onClick={() => props.playSong(song)}>\n                      <div className=\"song-title\">{song.title}</div>\n                      <div className=\"song-artist\">{song.artist}</div>\n                    </a>\n                    <i className={'icon-play ' + (props.isPlaying ? 'playing' : 'pause')}></i>\n                  </td>\n                  <td>{song.listens}</td>\n                  <td>\n                    {song.song_of_the_year && (\n                      <span\n                        className=\"soy\"\n                        style={{\n                          background: getSoyBackgroundColor(song.song_of_the_year),\n                          color: getSoyTextColor(song.song_of_the_year)\n                        }}\n                        title={`Song of the Year: ${song.song_of_the_year}`}\n                      >\n                        {song.song_of_the_year}\n                      </span>\n                    )}\n                  </td>\n                  <td>{song.type}</td>\n                  <td>{song.formatCreatedDate}</td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n      {showModalPicture && (\n        <Modal onClose={onCloseModal} caption={caption}>\n          <img style={imgModalStyle} className=\"img-modal\" src={getAbsoluteUrl(selectedSong.image_url)} alt={caption} />\n        </Modal>\n      )}\n    </div>\n  );\n};\n\nexport default BaiHatTable;\n","import React, { PureComponent } from 'react';\nimport Toast from '../../components/Toast/Toast';\nimport { saveSetting, getSetting, shuffle } from '../../service/UtilService';\nimport { SEQUENCE, SHUFFLE, REPEAT_ONE } from '../../constants/Constants';\nimport favicon from '../../assets/icons/favicon.png';\nimport './Player.css';\n\nclass Player extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playType: SEQUENCE,\n      isPlaying: false\n    };\n    this.myAudio = React.createRef();\n    this.currentTime = React.createRef();\n    this.progressWrapper = React.createRef();\n    this.progressBar = React.createRef();\n    this.llPlayer = React.createRef();\n    this.llPlayPause = React.createRef();\n    this.duration = React.createRef();\n    this.mouseDown = false;\n    this.showCurrentTime = null;\n    this.playList = []; // danh sch bi ht s c pht\n    this.initPlayList = []; // danh sch ban u,  khi shuffle, xong li chuyn v sequence, th s ly list ny\n    this.activeAudio = 0; // Index of current song in playList\n  }\n\n  componentDidMount() {\n    // truyn instance ca class ny cho component cha,\n    //  thng cha c th gi cc function trong class ny\n    this.props.getPlayerInstance(this);\n  }\n\n  // Hin ti BE ko cn li ko get c duration ca API streaming MP3 na,\n  // nn tm thi ko cn show warning\n  // componentDidUpdate(prevProps) {\n  //   if (this.props.songURL !== prevProps.songURL) {\n  //     const interShowDurationIssue = setInterval(() => {\n  //       if (this.myAudio && this.myAudio.duration === Infinity) {\n  //         Toast.warn('Cannot get duration of this song from Zing');\n  //         clearInterval(interShowDurationIssue);\n  //       }\n  //     }, 1000);\n  //   }\n  // }\n\n  // Ref: https://developer.mozilla.org/en-US/docs/Web/API/MediaSession\n  setMediaSessionMeta = (title, artist, imgUrl) => {\n    if (!imgUrl) {\n      imgUrl = favicon;\n    }\n\n    if ('mediaSession' in window.navigator) {\n      window.navigator.mediaSession.metadata = new window.MediaMetadata({\n        title: title,\n        artist: artist,\n        artwork: [\n          { src: imgUrl, sizes: '96x96', type: 'image/png' },\n          { src: imgUrl, sizes: '128x128', type: 'image/png' },\n          { src: imgUrl, sizes: '192x192', type: 'image/png' },\n          { src: imgUrl, sizes: '256x256', type: 'image/png' },\n          { src: imgUrl, sizes: '384x384', type: 'image/png' },\n          { src: imgUrl, sizes: '512x512', type: 'image/png' }\n        ]\n      });\n      window.navigator.mediaSession.setActionHandler('previoustrack', this.prevSong);\n      window.navigator.mediaSession.setActionHandler('nexttrack', this.nextSong);\n      window.navigator.mediaSession.setActionHandler('play', this.playAudio);\n      window.navigator.mediaSession.setActionHandler('pause', this.pauseAudio);\n      window.navigator.mediaSession.setActionHandler('stop', this.pauseAudio);\n    } else {\n      console.log(\"Your browser doesn't not support MediaSession\");\n    }\n  };\n\n  // Mi ln parent mun i sang pht 1 danh sch khc th parent phi\n  // truyn danh sch pht mi  thng qua function ny, v phi setPlayType li,\n  // v nu playType = shuffle th cng cn shuffle li ci playList va c\n  // truyn vo  (m vic shuffle ny c thc hin trong function setPlayType)\n  setPlayList = (pl, activeAudioIdx) => {\n    // Note dng nh sau l sai nh:\n    // this.playList = pl;\n    // y l truyn tham chiu, do  nu sau ny thay i bin this.playList\n    // (shuffle n chng hn, th bin pl t component cha cng s thay i theo => hng)\n    this.playList = [...pl];\n    this.initPlayList = [...pl];\n    this.activeAudio = activeAudioIdx;\n    this.setPlayType(getSetting('playType'));\n  };\n\n  setActiveAudio = (song) => {\n    // Nu click Next/Previous button th s ri vo case ny: activeAudio  c update\n    //  2 function  ri\n    if (this.playList[this.activeAudio].id === song.id) return;\n\n    // Nu click trc tip trn songTable  pht bi mi th ta cn update li activeAudio\n    for (let i = 0; i < this.playList.length; i++) {\n      if (this.playList[i].id === song.id) {\n        this.activeAudio = i;\n        break;\n      }\n    }\n    console.log('reset ActiveAudio: ', this.activeAudio);\n  };\n\n  setMouseDown = () => {\n    this.mouseDown = true;\n  };\n\n  clearMouseDown = () => {\n    this.mouseDown = false;\n  };\n\n  // Trong app ny, vic toggle c p dng vi cc button c 2 state: ON, OFF.\n  // Toggle s ly gi tr mi ngc vi gi tr hin ti.\n  // Trong cc function toggle s KHNG update state, v s gi cc function abc() khc\n  //  bn chng setState, v c th c ch khc cng s gi cc function abc() ,\n  // nu update state trong toggle th ni khc gi abc() s ko update state c\n  toggleShuffle = () => {\n    this.state.playType === SHUFFLE ? this.setPlayType(SEQUENCE) : this.setPlayType(SHUFFLE);\n  };\n\n  toggleRepeat = () => {\n    this.state.playType === REPEAT_ONE ? this.setPlayType(SEQUENCE) : this.setPlayType(REPEAT_ONE);\n  };\n\n  togglePlay = () => {\n    this.state.isPlaying ? this.pauseAudio() : this.playAudio();\n  };\n\n  prevSong = () => {\n    const { playType } = this.state;\n    if (playType !== REPEAT_ONE) {\n      if (this.activeAudio === 0) {\n        Toast.warn('This is the first song of playing list!');\n        return;\n      } else this.activeAudio--;\n    }\n    this.props.playSong(this.playList[this.activeAudio], true);\n  };\n\n  nextSong = () => {\n    const { playType } = this.state;\n    if (playType !== REPEAT_ONE) {\n      if (this.activeAudio === this.playList.length - 1) {\n        Toast.warn('This is the last song of playing list. Please select another song manually to play!');\n        this.togglePlay(); // stop playing\n        return;\n      } else this.activeAudio++;\n    }\n    this.props.playSong(this.playList[this.activeAudio], true);\n  };\n\n  secsToMins = (time) => {\n    let int = Math.floor(time),\n      mins = Math.floor(int / 60),\n      secs = int % 60,\n      newTime = mins + ':' + ('0' + secs).slice(-2);\n\n    return newTime;\n  };\n\n  getCurrentTime = () => {\n    if (!this.myAudio) return;\n\n    const currentTimeFormatted = this.secsToMins(this.myAudio.currentTime),\n      currentTimePercentage = (this.myAudio.currentTime / this.getDuration()) * 100;\n\n    this.currentTime.innerText = currentTimeFormatted;\n    this.progressBar.style.width = currentTimePercentage + '%';\n\n    if (this.state.isPlaying) {\n      this.showCurrentTime = requestAnimationFrame(this.getCurrentTime);\n    } else {\n      cancelAnimationFrame(this.showCurrentTime);\n    }\n  };\n\n  showDuration = () => {\n    let durationFormatted = this.secsToMins(this.getDuration());\n    this.duration.innerText = durationFormatted;\n  };\n\n  /**\n   * Dng updateProgressBar cho c 2 event onClick v onMouseMove  khi user click v ko,\n   * sau  th th n vn tua c ti v tr user th chut\n   */\n  updateProgressBar = (e) => {\n    const totalWidth = this.progressWrapper.offsetWidth;\n    const offsetX = e.nativeEvent.offsetX; // https://stackoverflow.com/a/31520106/7688028\n    const offsetPercentage = offsetX / totalWidth;\n\n    if (this.mouseDown || e.type === 'click') {\n      this.myAudio.currentTime = this.getDuration() * offsetPercentage;\n      // Nu isPlaying = true, th vic update time  c thc hin  requestAnimationFrame  trn ri\n      if (!this.state.isPlaying) {\n        this.getCurrentTime();\n      }\n      this.props.onSeeked();\n    }\n  };\n\n  // Nu ko get c duration th API streaming MP3 pha BE b li, cn fix BE.\n  // Hin ti th BE cha c li ny, nhng nu chng may dnh th  duration = 10min\n  getDuration = () => {\n    return this.myAudio.duration === Infinity ? 600 : this.myAudio.duration;\n  };\n\n  playAudio = () => {\n    let playPromise = this.myAudio.play();\n\n    // In browsers that haven't yet supported this functionality,\n    // playPromise won't be defined.\n    if (playPromise !== undefined) {\n      playPromise\n        .then(() => {\n          // Automatic playback started!\n          this.setState({ isPlaying: true }, () => {\n            this.getCurrentTime();\n            this.props.onPlay();\n          });\n        })\n        .catch((error) => {\n          // Automatic playback failed.\n          this.pauseAudio();\n          console.log('Error playing file: ', error);\n          Toast.error('Li: KHNG th t ng pht nhc, do bn cha tng tc vi trang, hoc Zing khng cho php pht bi ny');\n        });\n    } else {\n      this.pauseAudio();\n      Toast.error(\"Your browser hasn't yet supported this functionality\");\n    }\n  };\n\n  pauseAudio = () => {\n    this.myAudio.pause();\n    this.props.onPause();\n    this.setState({ isPlaying: false });\n  };\n\n  // default = SEQUENCE\n  setPlayType = (pt = SEQUENCE) => {\n    this.setState({ playType: pt });\n    if (pt === SHUFFLE) {\n      const currSong = this.playList[this.activeAudio];\n\n      // Mi ln chn/chuyn sang pht ngu nhin s trn li danh sch pht\n      shuffle(this.playList);\n\n      // find and move the currSong to the head of playList\n      for (let i = 0; i < this.playList.length; i++) {\n        if (this.playList[i].id === currSong.id) {\n          [this.playList[i], this.playList[0]] = [this.playList[0], this.playList[i]]; // swap 2 elements\n          this.activeAudio = 0;\n          break;\n        }\n      }\n\n      // console.log(\n      //   'After shuffle: ',\n      //   this.playList.map((song) => `${song.id}: ${song.title} (${song.artist})`)\n      // );\n    } else {\n      const currSong = this.playList[this.activeAudio];\n      this.playList = [...this.initPlayList];\n\n      // find currSong and set activeAudio equal to currSong position\n      for (let i = 0; i < this.playList.length; i++) {\n        if (this.playList[i].id === currSong.id) {\n          this.activeAudio = i;\n          break;\n        }\n      }\n\n      // console.log(\n      //   'After sequence: ',\n      //   this.playList.map((song) => `${song.id}: ${song.title} (${song.artist})`)\n      // );\n    }\n\n    saveSetting('playType', pt);\n  };\n\n  render() {\n    const { song } = this.props;\n    const { playType, isPlaying } = this.state;\n\n    return (\n      <div\n        className={`ll_player ${isPlaying ? 'll-playing' : 'll-paused'}`}\n        onMouseDown={this.setMouseDown}\n        onMouseUp={this.clearMouseDown}\n        ref={(node) => (this.llPlayer = node)}\n      >\n        <div className=\"info\">\n          <div id=\"song_details\">\n            <div className=\"song_title\">{song.title}</div>\n            <div className=\"song_artist\">{song.artist}</div>\n            <div className=\"song_album\">({song.album ? song.album : 'No Album'})</div>\n          </div>\n        </div>\n\n        <div className=\"ll-btn-wrapper\">\n          <button\n            className={`ll-shuffle ${playType === SHUFFLE ? 'active' : ''}`}\n            title={`${playType === SHUFFLE ? 'Turn off shuffle' : 'Shuffle'}`}\n            onClick={this.toggleShuffle}\n          >\n            <div className=\"arrow\"></div>\n            <div className=\"arrow\"></div>\n          </button>\n          <button className=\"ll-button ll-btn-prev\" title=\"Previous\" onClick={this.prevSong}>\n            <div className=\"arrow arrow-transform\"></div>\n            <div className=\"arrow\"></div>\n          </button>\n          <button\n            className=\"ll-button ll-play-pause\"\n            title={isPlaying ? 'Pause' : 'Play'}\n            onClick={this.togglePlay}\n            ref={(node) => (this.llPlayPause = node)}\n          >\n            <div className=\"arrow arrow-transform\"></div>\n          </button>\n          <button className=\"ll-button ll-btn-next\" title=\"Next\" onClick={this.nextSong}>\n            <div className=\"arrow arrow-transform\"></div>\n            <div className=\"arrow\"></div>\n          </button>\n          <button\n            className={`ll-repeat ${playType === REPEAT_ONE ? 'active' : ''}`}\n            title=\"Repeat one\"\n            onClick={this.toggleRepeat}\n          ></button>\n        </div>\n\n        <div className=\"time\">\n          <span className=\"current-time\" ref={(node) => (this.currentTime = node)}>\n            0:00\n          </span>\n          <span\n            className=\"progress\"\n            ref={(node) => (this.progressWrapper = node)}\n            onClick={this.updateProgressBar}\n            onMouseMove={this.updateProgressBar}\n          >\n            <span ref={(node) => (this.progressBar = node)}></span>\n          </span>\n          <span className=\"duration\" ref={(node) => (this.duration = node)}>\n            0:00\n          </span>\n        </div>\n\n        <audio\n          ref={(node) => (this.myAudio = node)}\n          id=\"myAudio\"\n          preload=\"metadata\"\n          src={this.props.songURL}\n          onLoadedMetadata={this.showDuration}\n          onEnded={this.nextSong}\n          crossOrigin=\"anonymous\"\n        ></audio>\n      </div>\n    );\n  }\n}\n\nexport default Player;\n","function getRelativePos(elm) {\n  let pPos = elm.parentNode.getBoundingClientRect(), // parent pos\n    cPos = elm.getBoundingClientRect(), // target pos\n    pos = {};\n\n  pos.top = cPos.top - pPos.top + elm.parentNode.scrollTop;\n  pos.right = cPos.right - pPos.right;\n  pos.bottom = cPos.bottom - pPos.bottom;\n  pos.left = cPos.left - pPos.left;\n\n  return pos;\n}\n\n// From: https://gist.github.com/gre/1650294\nfunction easeInOutCubic(t) {\n  return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n}\nfunction easeInOutQuad(t) {\n  return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n}\n\n/**\n * Scroll to an element inside a container\n * Ch : element = th div. Nu element m l th span th n s scroll ln top ca container\n * @param {HTMLElement} container The wrapper element to do scrolling\n * @param {HTMLElement} element Element inside container. Scroll to its position\n * @param {Number} duration Time to scroll, in milisecond\n * @param {Number} offset sau khi scroll ti element, y n ln 1 on = offset (m = y xung)\n **/\nexport function scrollInsideElement(container, element, duration, offset = 0) {\n  let pos = getRelativePos(element);\n  let start = container.scrollTop,\n    change = pos.top - start,\n    startTime = performance.now(),\n    now,\n    elapsed,\n    t;\n\n  function animateScroll() {\n    now = performance.now();\n    elapsed = now - startTime;\n    t = elapsed / duration;\n\n    container.scrollTop = start + change * easeInOutQuad(t) + offset;\n\n    if (t < 1) window.requestAnimationFrame(animateScroll);\n  }\n\n  animateScroll();\n}\n\n/**\n * Scroll to an element inside a container, but element will be\n * in the center of container\n */\nexport function scrollInsideElementToCenter(container, element, duration) {\n  scrollInsideElement(container, element, duration, -container.offsetHeight / 2 + element.offsetHeight / 2);\n}\n\n/**\n * Scroll the page to an element's position (element nn l th div, ko phi span)\n * @param {HTMLElement} element the tag we wants browser to scroll to\n * @param {Number} duration scrolling time in milisecond\n */\nexport function scrollPage(element, duration) {\n  let startingY = window.pageYOffset;\n  let elementY = window.pageYOffset + element.getBoundingClientRect().top;\n\n  // If element is close to page's bottom then window will scroll only to some position above the element.\n  let targetY =\n    document.body.scrollHeight - elementY < window.innerHeight ? document.body.scrollHeight - window.innerHeight : elementY;\n  let diff = targetY - startingY;\n  let start;\n\n  if (!diff) return;\n\n  // Bootstrap our animation - it will get called right before next frame shall be rendered.\n  window.requestAnimationFrame(function step(timestamp) {\n    if (!start) start = timestamp;\n    // Elapsed miliseconds since start of scrolling.\n    let time = timestamp - start;\n\n    // Get percent of completion in range [0, 1].\n    let percent = Math.min(time / duration, 1);\n\n    // Apply the easing.\n    // It can cause bad-looking slow frames in browser performance tool, so be careful.\n    percent = easeInOutCubic(percent);\n\n    window.scrollTo(0, startingY + diff * percent);\n\n    // Proceed with animation as long as we wanted it to.\n    if (time < duration) {\n      window.requestAnimationFrame(step);\n    }\n  });\n}\n","import React, { PureComponent } from 'react';\nimport Toast from '../../components/Toast/Toast';\nimport { saveSetting, getSetting } from '../../service/UtilService';\nimport { scrollPage } from '../../service/scroll';\n\nclass Setting extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      volume: 100\n    };\n  }\n\n  onChangeVolume = (e) => {\n    const { value } = e.target;\n    const volume = value / 100;\n    this.setState({ volume: value });\n    this.props.myAudio.volume = volume;\n    saveSetting('volume', volume);\n  };\n\n  componentDidMount() {\n    this.props.initSettingsAtPlayer(this.initSettingsAtPlayer);\n  }\n\n  /**\n   * Init data for html element: lyric_playground, div_result and my_audio\n   * Ch yu init v css style ch ko thay i state g ca React component\n   */\n  initSettingsAtPlayer = () => {\n    const { myAudio, lyric_playground } = this.props;\n    let lyricAlign = getSetting('lyricAlign');\n    if (lyricAlign) this.settingLyricAlign(lyricAlign);\n\n    let theme = getSetting('theme');\n    if (theme) {\n      switch (theme) {\n        case 'dark':\n          this.changeTheme('dark');\n          break;\n        case 'light':\n          this.changeTheme('light');\n          break;\n        case 'picture-bg':\n          this.changeTheme('picture-bg');\n          break;\n        default:\n          break;\n      }\n    }\n\n    // changeAudioSpeed\n    let speed = getSetting('speed');\n    if (speed) myAudio.playbackRate = speed;\n\n    // changeAudioVolume\n    let vol = getSetting('volume');\n    if (vol) {\n      myAudio.volume = vol;\n      this.setState({ volume: vol * 100 });\n    }\n\n    this.setKaraokeMode(getSetting('karaokeMode'));\n    this.setBlurMode(getSetting('blurMode'));\n    this.setGiganticLine(getSetting('giganticLine'));\n    this.setWordAppear(getSetting('wordAppear'));\n    this.setLineAppear(getSetting('lineAppear'));\n    this.setTranslate(getSetting('translate'));\n    setTimeout(() => {\n      scrollPage(lyric_playground, 300);\n    }, 10);\n  };\n\n  updateSyncLyric = (offset) => {\n    this.props.updateSyncLyric(offset);\n  };\n\n  settingLyricAlign = (align) => {\n    this.props.div_result.style.textAlign = align;\n    saveSetting('lyricAlign', align);\n  };\n\n  settingTheme = (themeName) => {\n    this.changeTheme(themeName);\n    saveSetting('theme', themeName);\n  };\n\n  /**\n   * Note: Class theme s bt u = \"lyric-pg-\"\n   * Do  nhng class ko lin quan n theme KO c bt u = \"lyric-pg-\"\n   */\n  changeTheme = (themeName) => {\n    const { lyric_playground, div_background } = this.props;\n\n    div_background.style.display = themeName === 'picture-bg' ? '' : 'none';\n\n    lyric_playground.classList.forEach((className) => {\n      if (className.includes('lyric-pg-')) lyric_playground.classList.remove(className);\n    });\n    lyric_playground.classList.add('lyric-pg-' + themeName);\n  };\n\n  toggleKaraokeMode = () => {\n    if (!this.props.div_result.classList.contains('karaoke-mode')) {\n      this.setKaraokeMode(true);\n    } else {\n      this.setKaraokeMode(false);\n    }\n  };\n  setKaraokeMode = (isKaraokeMode) => {\n    const { div_result } = this.props;\n    if (isKaraokeMode === true) {\n      div_result.classList.add('karaoke-mode');\n      div_result.classList.remove('karaoke-off');\n      saveSetting('karaokeMode', true);\n    } else if (isKaraokeMode === false) {\n      div_result.classList.remove('karaoke-mode');\n      div_result.classList.add('karaoke-off');\n      saveSetting('karaokeMode', false);\n    }\n  };\n\n  toggleBlurMode = () => {\n    const { div_result } = this.props;\n    if (!div_result.classList.contains('blur-mode')) {\n      this.setBlurMode(true);\n    } else {\n      this.setBlurMode(false);\n    }\n  };\n  setBlurMode = (isBlurMode) => {\n    const { div_result } = this.props;\n    if (isBlurMode === true) {\n      div_result.classList.add('blur-mode');\n      saveSetting('blurMode', true);\n    } else if (isBlurMode === false) {\n      div_result.classList.remove('blur-mode');\n      saveSetting('blurMode', false);\n    }\n  };\n\n  toggleGiganticLine = () => {\n    const { div_result } = this.props;\n    if (!div_result.classList.contains('div-res-big-active-line')) {\n      this.setGiganticLine(true);\n    } else {\n      this.setGiganticLine(false);\n    }\n  };\n  setGiganticLine = (isGiganticLine) => {\n    const { div_result } = this.props;\n    if (isGiganticLine === true) {\n      div_result.classList.add('div-res-big-active-line');\n      saveSetting('giganticLine', true);\n    } else if (isGiganticLine === false) {\n      div_result.classList.remove('div-res-big-active-line');\n      saveSetting('giganticLine', false);\n    }\n  };\n\n  flipWaveform = () => {\n    let flip = getSetting('flipWaveform');\n    if (flip && flip === true) {\n      flip = false;\n    } else {\n      flip = true;\n    }\n    saveSetting('flipWaveform', flip);\n    Toast.info(`Flip waveform = ${flip}, refresh page to take effect!`);\n\n    // Hin ti vic update qua props ny CHA implement c, bn component Waveform KHNG\n    // nhn c gi tr mi sau mi ln update, vui lng F5!!!\n    this.props.updateFlipWaveform(flip);\n  };\n\n  toggleWordAppear = () => {\n    const { div_result } = this.props;\n    if (!div_result.classList.contains('word-appear')) {\n      this.setWordAppear(true);\n    } else {\n      this.setWordAppear(false);\n    }\n  };\n  setWordAppear = (isWordAppear) => {\n    const { div_result } = this.props;\n    if (isWordAppear === true) {\n      div_result.classList.add('word-appear');\n      saveSetting('wordAppear', true);\n    } else if (isWordAppear === false) {\n      div_result.classList.remove('word-appear');\n      saveSetting('wordAppear', false);\n    }\n  };\n\n  toggleLineAppear = () => {\n    const { div_result } = this.props;\n    if (!div_result.classList.contains('line-appear')) {\n      this.setLineAppear(true);\n    } else {\n      this.setLineAppear(false);\n    }\n  };\n  setLineAppear = (isLineAppear) => {\n    const { div_result } = this.props;\n    if (isLineAppear === true) {\n      div_result.classList.add('line-appear');\n      saveSetting('lineAppear', true);\n    } else if (isLineAppear === false) {\n      div_result.classList.remove('line-appear');\n      saveSetting('lineAppear', false);\n    }\n  };\n\n  toggleTranslate = () => {\n    const { div_result } = this.props;\n    if (!div_result.classList.contains('translate')) {\n      this.setTranslate(true);\n    } else {\n      this.setTranslate(false);\n    }\n  };\n  setTranslate = (isTranslate) => {\n    const { div_result } = this.props;\n    if (isTranslate === true) {\n      div_result.classList.add('translate');\n      saveSetting('translate', true);\n    } else if (isTranslate === false) {\n      div_result.classList.remove('translate');\n      saveSetting('translate', false);\n    }\n  };\n\n  updateSpeed = (offset) => {\n    let speed = this.props.myAudio.playbackRate + offset;\n    speed = Number(speed.toFixed('1'));\n    this.props.myAudio.playbackRate = speed;\n    Toast.info('Speed: ' + speed + 'x');\n    saveSetting('speed', speed);\n  };\n\n  createLyricCard = () => {\n    this.props.createLyricCard();\n  };\n\n  render() {\n    const { showSetting, openSetting, isFullscreen } = this.props;\n    const { volume } = this.state;\n    return (\n      <div className=\"setting_section\" style={{ display: isFullscreen ? 'none' : '' }}>\n        {!showSetting && (\n          <div className=\"btn_toggle_setting\" title=\"Settings\" onClick={openSetting}>\n            <i className=\"fa fa-ellipsis-h\"></i>\n          </div>\n        )}\n\n        {!!showSetting && (\n          <div id=\"setting_wrapper\">\n            <div>\n              <span className=\"setting-legend\">Lyric:&nbsp;</span>\n              <i\n                className=\"fa fa-caret-up btn_sync_up\"\n                title=\"Sync lyric: -100ms (client only)\"\n                onClick={() => this.updateSyncLyric(-100)}\n              ></i>\n              <i\n                className=\"fa fa-caret-down btn_sync_down\"\n                title=\"Sync lyric: +100ms (client only)\"\n                onClick={() => this.updateSyncLyric(100)}\n              ></i>\n              <i className=\"setting_separator\">|</i>\n              <i\n                className=\"fa fa-align-left btn_align btn_align_left\"\n                title=\"Lyric left alignment\"\n                onClick={() => this.settingLyricAlign('left')}\n              ></i>\n              <i\n                className=\"fa fa-align-center btn_align btn_align_center\"\n                title=\"Lyric center\"\n                onClick={() => this.settingLyricAlign('center')}\n              ></i>\n              <i\n                className=\"fa fa-align-right btn_align btn_align_right\"\n                title=\"Lyric right alignment\"\n                onClick={() => this.settingLyricAlign('right')}\n              ></i>\n            </div>\n\n            <div>\n              <span className=\"setting-legend\">Theme:&nbsp;</span>\n              <i\n                className=\"fa fa-square btn_theme btn_theme_dark\"\n                title=\"Dark theme\"\n                onClick={() => this.settingTheme('dark')}\n              ></i>\n              <i\n                className=\"fa fa-square btn_theme btn_theme_light\"\n                title=\"Light theme\"\n                onClick={() => this.settingTheme('light')}\n              ></i>\n              <i\n                className=\"fa fa-picture-o btn_theme btn_theme_picture_bg\"\n                title=\"Picture background theme\"\n                onClick={() => this.settingTheme('picture-bg')}\n              ></i>\n            </div>\n\n            <div>\n              <span className=\"setting-legend\">Mode:&nbsp;</span>\n              <i\n                className=\"fa fa-microphone btn_theme btn_karaoke_mode\"\n                title=\"Karaoke mode\"\n                onClick={this.toggleKaraokeMode}\n              ></i>\n              <i className=\"fa fa-cloud btn_theme btn_blur_mode\" title=\"Blur mode\" onClick={this.toggleBlurMode}></i>\n              <i\n                className=\"fa fa-eye-slash btn_theme btn_word_appear\"\n                title=\"Word appears when time comes to it\"\n                onClick={this.toggleWordAppear}\n              ></i>\n              <i\n                className=\"fa fa-coffee btn_theme\"\n                title=\"Word & Line appears when time comes to it\"\n                onClick={this.toggleLineAppear}\n              ></i>\n              <i\n                className=\"fa fa-search-plus btn_theme btn_gigantic_line\"\n                title=\"Gigantic line\"\n                onClick={this.toggleGiganticLine}\n              ></i>\n              <i\n                className=\"fa fa-retweet btn_theme btn_flip_waveform\"\n                title=\"Flip waveform horizontally\"\n                onClick={this.flipWaveform}\n              ></i>\n              <i\n                className=\"fa fa-language btn_theme btn_translate\"\n                title=\"Lyric translation (only .xlrc lyric)\"\n                onClick={this.toggleTranslate}\n              ></i>\n            </div>\n\n            <div>\n              <span className=\"setting-legend\">Speed:&nbsp;</span>\n              <i\n                className=\"fa fa-plus-square btn_theme btn_increase_speed\"\n                title=\"Increase speed\"\n                onClick={() => this.updateSpeed(0.1)}\n              ></i>\n              <i\n                className=\"fa fa-minus-square btn_theme btn_decrease_speed\"\n                title=\"Decrease speed\"\n                onClick={() => this.updateSpeed(-0.1)}\n              ></i>\n            </div>\n\n            <div>\n              <span className=\"setting-legend\">Volume:&nbsp;</span>\n              <input type=\"range\" min=\"1\" max=\"100\" value={volume} className=\"slider-volume\" onChange={this.onChangeVolume} />\n            </div>\n\n            <div>\n              <span className=\"setting-legend\">Create Lyric Card:&nbsp;</span>\n              <i className=\"fa fa-quote-right btn_theme\" onClick={this.createLyricCard}></i>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Setting;\n","import React from 'react';\nimport debounce from 'debounce-promise';\nimport { getAverageRGB } from '../../service/UtilService';\n\n/**\n * Ref: https://www.codehim.com/vanilla-javascript/javascript-audio-waveform-visualizer/\n */\nclass Waveform extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.canvas = React.createRef();\n    this.waveformAniFr = null;\n  }\n\n  componentDidMount() {\n    this.props.getWaveformInstance(this);\n    window.onresize = debounce(this.drawWaveform, 300);\n  }\n\n  drawWaveform = () => {\n    const { flipWaveform, analyser } = this.props;\n    if (!analyser) return;\n    this.canvas.width = window.innerWidth;\n    this.canvas.height = window.innerHeight;\n    const canvasContext = this.canvas.getContext('2d');\n    const bufferLength = analyser.frequencyBinCount; // = fftSize/2\n\n    // v c nhiu phn t cui ca mng dataArray = 0 nu dataArray = new Uint8Array(bufferLength)\n    const totalBar = parseInt(bufferLength / 1.2);\n    const dataArray = new Uint8Array(totalBar);\n    const peakArr = Array(totalBar).fill(0);\n    const velocityArr = Array(totalBar).fill(0);\n    const acceleration = 0.05; // gia tc ca im peak khi ri xung\n    const WIDTH = this.canvas.width;\n    const HEIGHT = this.canvas.height;\n    const barWidth = parseInt(WIDTH / totalBar);\n    const heightLimit = 270; // what does this mean?\n    const averageRGB = getAverageRGB();\n    let barHeight, barColor, x;\n\n    console.log('bufferLength, totalBar, WIDTH, HEIGHT: ', bufferLength, totalBar, WIDTH, HEIGHT);\n\n    if (window.innerWidth <= 720) return; // not show animation on mobile device\n\n    console.log('Start drawing waveform...');\n\n    // Khi prop flipWaveform thay i th hm ny KHNG nhn c gi tr mi, m phi Refresh li page\n    // C solution no , chng hn getDerivedStateFromProps hay componentDidUpdate, nhng lng nhng\n    // qu nn CHA implement c!\n    const renderFrame = () => {\n      analyser.getByteFrequencyData(dataArray);\n      canvasContext.clearRect(0, 0, WIDTH, HEIGHT);\n\n      // for debugging: nu n in ra th animation ny vn chy!\n      // console.log('dataArray[0]', dataArray[0]);\n      for (let i = 0; i < totalBar; i++) {\n        // dataArray[i] l 1 s 8bit ko du, do  n s thuc khong [0,255],\n        // nhng HEIGHT ca canvas c th < 255, do  nu c  barHeight = dataArray[i]\n        // th s ko  ch v bar\n        // Set min barHeight = 1, v nu = 0 s ko thy ht cc bar\n        // Note: sau khi add flipWaveform, th vic nhiu bar = 0 li b chuyn v bn tri, haizzz\n        // (hin ti ko flip th  bn phi ko cn nhiu bar = 0 na, nhng flip th li b)\n        // S fix sau...\n        if (flipWaveform === true) {\n          barHeight = 1 + parseInt((dataArray[totalBar - i] / heightLimit) * HEIGHT);\n        } else {\n          barHeight = 1 + parseInt((dataArray[i] / heightLimit) * HEIGHT);\n        }\n        // barColor = this.getBarColor(barHeight / HEIGHT, i / totalBar);\n        barColor = averageRGB;\n        x = (barWidth + 3) * i;\n\n        // draw bar\n        canvasContext.fillStyle = barColor;\n        canvasContext.fillRect(x, HEIGHT - barHeight, barWidth, barHeight);\n\n        // draw peak of bar\n        if (barHeight > peakArr[i]) {\n          peakArr[i] = barHeight;\n          velocityArr[i] = 0;\n        }\n        if (peakArr[i] > 0) {\n          canvasContext.beginPath();\n          canvasContext.strokeStyle = barColor;\n          canvasContext.lineWidth = 3;\n          canvasContext.moveTo(x, HEIGHT - peakArr[i]);\n          canvasContext.lineTo(x + barWidth, HEIGHT - peakArr[i]);\n          canvasContext.stroke();\n          velocityArr[i] += acceleration;\n          peakArr[i] = peakArr[i] - velocityArr[i];\n        }\n      }\n\n      // Ch chy animation khi audio ang play. Nu ko check iu kin ny th cho d gi\n      // cancelAnimationFrame(this.waveformAniFr) vn ko stop c ci animation ny!\n      if (!this.props.myAudio.paused) this.waveformAniFr = requestAnimationFrame(renderFrame);\n    };\n\n    renderFrame();\n  };\n\n  /**\n   * @param {Number} heightRatio chiu cao ca bar so vi chiu cao ca canvas. heightRatio <= 1\n   * @param {Number} barRatio v tr ca bar trong mng. heightRatio <= 1\n   * @returns\n   */\n  getBarColor = (heightRatio, barRatio) => {\n    const r = parseInt(255 * barRatio); // di mu gradient ca mng bar: blue -> tm hng\n    const g = 100 - 30 * heightRatio; // bar cng cao th mu cng m\n    const b = 255;\n    return 'rgb(' + r + ',' + g + ',' + b + ')';\n  };\n\n  stopWaveform = () => {\n    cancelAnimationFrame(this.waveformAniFr);\n  };\n\n  render() {\n    return <canvas className=\"canvas-waveform\" ref={(node) => (this.canvas = node)}></canvas>;\n  }\n}\n\nexport default Waveform;\n","import React from 'react';\nimport Waveform from './Waveform';\n\nconst LeftPlayground = (props) => {\n  const { toggleWaveform, showWaveform, flipWaveform, analyser, initAnalyzer, myAudio, getWaveformInstance, song } = props;\n  return (\n    <div className=\"left_info\" onClick={toggleWaveform} title={showWaveform ? 'Switch to song meta' : 'Switch to waveform'}>\n      {showWaveform && (\n        <Waveform\n          analyser={analyser}\n          initAnalyzer={initAnalyzer}\n          myAudio={myAudio}\n          getWaveformInstance={getWaveformInstance}\n          flipWaveform={flipWaveform}\n        />\n      )}\n      {!showWaveform && (\n        <>\n          <div className=\"left_title\">{song.title}</div>\n          <div className=\"left_artist\">{song.artist}</div>\n          <div className=\"left_album\">({song.album ? song.album : 'No Album'})</div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default LeftPlayground;\n","import { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '../Modal/Modal';\nimport './LyricSelectionModal.scss';\n\nconst LyricSelectionModal = ({ isOpen, onClose, lyricText, onGenerateCard }) => {\n  const [selectedText, setSelectedText] = useState('');\n  const lyricDisplayRef = useRef(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      setSelectedText('');\n    }\n  }, [isOpen]);\n\n  const handleTextSelection = () => {\n    const selection = window.getSelection();\n    const text = selection.toString().trim();\n    if (text) {\n      setSelectedText(text);\n    }\n  };\n\n  const handleGenerateCard = () => {\n    if (selectedText) {\n      onGenerateCard(selectedText);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"lyric-selection-modal-overlay\" onClick={onClose}>\n      <div className=\"lyric-selection-modal-container\" onClick={(e) => e.stopPropagation()}>\n        <Modal onClose={onClose} caption=\"Select Lyric Text\">\n          <div className=\"lyric-selection-content\">\n            <h3>Select Lyric Text</h3>\n            <p className=\"instruction\">Select the text below that you want to include in your lyric card:</p>\n            <div\n              ref={lyricDisplayRef}\n              className=\"lyric-display custom-scrollbar\"\n              onMouseUp={handleTextSelection}\n              dangerouslySetInnerHTML={{ __html: lyricText }}\n            />\n            {selectedText && (\n              <div className=\"selected-preview\">\n                <h4>Selected Text:</h4>\n                <div className=\"preview-text\">{selectedText}</div>\n                <button className=\"btn-generate\" onClick={handleGenerateCard}>\n                  Generate Card\n                </button>\n              </div>\n            )}\n          </div>\n        </Modal>\n      </div>\n    </div>\n  );\n};\n\nLyricSelectionModal.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  lyricText: PropTypes.string.isRequired,\n  onGenerateCard: PropTypes.func.isRequired\n};\n\nexport default LyricSelectionModal;\n","import { useRef, useState } from 'react';\nimport * as htmlToImage from 'html-to-image';\nimport PropTypes from 'prop-types';\nimport Modal from '../Modal/Modal';\nimport './LyricDownloadModal.scss';\n\nconst LyricDownloadModal = ({ isOpen, onClose, onCloseAll, song, selectedText }) => {\n  const cardRef = useRef(null);\n  const [textAlign, setTextAlign] = useState('center');\n  const [backgroundColor, setBackgroundColor] = useState('#667eea');\n  const [textColor, setTextColor] = useState('#ffffff');\n  const [fontSize, setFontSize] = useState(20);\n  const [fontFamily, setFontFamily] = useState('Open Sans');\n\n  const downloadCard = async () => {\n    const node = cardRef.current;\n    if (!node) return;\n\n    try {\n      // Increase pixelRatio for sharper output while preserving DOM layout\n      const rect = node.getBoundingClientRect();\n      const size = Math.round(Math.max(rect.width, rect.height));\n      const dataUrl = await htmlToImage.toPng(node, {\n        pixelRatio: 2,\n        cacheBust: true,\n        // skipFonts: true,\n        width: size,\n        height: size,\n        style: { width: `${size}px`, height: `${size}px` }\n      });\n      const link = document.createElement('a');\n      const songTitle = (song.title || 'untitled').replaceAll(/\\s+/g, '');\n      const songArtist = (song.artist || 'unknown').replaceAll(/\\s+/g, '');\n      link.download = `lyric-card-${songTitle}-${songArtist}.png`;\n      link.href = dataUrl;\n      link.click();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const copyText = () => {\n    navigator.clipboard.writeText(selectedText);\n    alert('Lyric text copied to clipboard!');\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"lyric-download-modal-overlay\" onClick={onCloseAll}>\n      <div className=\"lyric-download-modal-container\" onClick={(e) => e.stopPropagation()}>\n        <Modal onClose={onCloseAll} caption=\"Your Lyric Card\">\n          <div className=\"lyric-download-content\">\n            <h3>Your Lyric Card</h3>\n\n            {/* Card Configuration */}\n            <div className=\"card-config\">\n              <div className=\"config-row\">\n                <div className=\"config-group\">\n                  <label>Text Alignment:</label>\n                  <div className=\"button-group\">\n                    <button\n                      className={`btn-config ${textAlign === 'left' ? 'active' : ''}`}\n                      onClick={() => setTextAlign('left')}\n                      title=\"Align left\"\n                    >\n                      <i className=\"fa fa-align-left\"></i>\n                    </button>\n                    <button\n                      className={`btn-config ${textAlign === 'center' ? 'active' : ''}`}\n                      onClick={() => setTextAlign('center')}\n                      title=\"Align center\"\n                    >\n                      <i className=\"fa fa-align-center\"></i>\n                    </button>\n                    <button\n                      className={`btn-config ${textAlign === 'right' ? 'active' : ''}`}\n                      onClick={() => setTextAlign('right')}\n                      title=\"Align right\"\n                    >\n                      <i className=\"fa fa-align-right\"></i>\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"config-group\">\n                  <label>Text Color:</label>\n                  <input type=\"color\" value={textColor} onChange={(e) => setTextColor(e.target.value)} className=\"color-picker\" />\n                </div>\n              </div>\n\n              <div className=\"config-group\">\n                <label>Background Color:</label>\n                <div className=\"color-inputs\">\n                  <input\n                    type=\"color\"\n                    value={backgroundColor}\n                    onChange={(e) => setBackgroundColor(e.target.value)}\n                    className=\"color-picker\"\n                  />\n                  <select value={backgroundColor} onChange={(e) => setBackgroundColor(e.target.value)} className=\"preset-colors\">\n                    <option value=\"#667eea\">Purple Gradient</option>\n                    <option value=\"#764ba2\">Dark Purple</option>\n                    <option value=\"#1a1a2e\">Dark Blue</option>\n                    <option value=\"#0f3460\">Navy</option>\n                    <option value=\"#e94560\">Pink</option>\n                    <option value=\"#ff6b6b\">Red</option>\n                    <option value=\"#4ecdc4\">Teal</option>\n                    <option value=\"#45b7d1\">Cyan</option>\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"config-group\">\n                <label>Font Family:</label>\n                <select value={fontFamily} onChange={(e) => setFontFamily(e.target.value)} className=\"font-select\">\n                  <option value=\"Open Sans\">Open Sans</option>\n                  <option value=\"Arial\">Arial</option>\n                  <option value=\"Verdana\">Verdana</option>\n                  <option value=\"Georgia\">Georgia</option>\n                  <option value=\"Times New Roman\">Times New Roman</option>\n                  <option value=\"Courier New\">Courier New</option>\n                  <option value=\"Comic Sans MS\">Comic Sans MS</option>\n                  <option value=\"Trebuchet MS\">Trebuchet MS</option>\n                  <option value=\"Impact\">Impact</option>\n                </select>\n              </div>\n\n              <div className=\"config-group\">\n                <label>Font Size: {fontSize}px</label>\n                <input\n                  type=\"range\"\n                  min=\"12\"\n                  max=\"48\"\n                  value={fontSize}\n                  onChange={(e) => setFontSize(Number(e.target.value))}\n                  className=\"font-size-slider\"\n                />\n              </div>\n            </div>\n\n            {/* Card Preview */}\n            <div\n              ref={cardRef}\n              className=\"lyric-card\"\n              style={{\n                backgroundColor: backgroundColor,\n                justifyContent: 'center',\n                textAlign: textAlign\n              }}\n            >\n              <div\n                className=\"card-lyric-text\"\n                style={{ color: textColor, fontFamily: fontFamily, fontSize: `${fontSize}px`, fontWeight: 'bold' }}\n              >\n                {selectedText}\n              </div>\n              <div className=\"card-song-info\" style={{ color: textColor, fontFamily: fontFamily }}>\n                {song.title && <span className=\"card-title\">{song.title}</span>}\n                {song.artist && <span className=\"card-artist\"> - {song.artist}</span>}\n              </div>\n            </div>\n\n            {/* Actions */}\n            <div className=\"card-actions\">\n              <button className=\"btn-action\" onClick={downloadCard}>\n                <i className=\"fa fa-download\"></i> Download Card\n              </button>\n              <button className=\"btn-action\" onClick={copyText}>\n                <i className=\"fa fa-copy\"></i> Copy Text\n              </button>\n              <button className=\"btn-action\" onClick={onClose}>\n                <i className=\"fa fa-arrow-left\"></i> Back to Selection\n              </button>\n            </div>\n          </div>\n        </Modal>\n      </div>\n    </div>\n  );\n};\n\nLyricDownloadModal.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onCloseAll: PropTypes.func.isRequired,\n  song: PropTypes.shape({\n    title: PropTypes.string,\n    artist: PropTypes.string\n  }).isRequired,\n  selectedText: PropTypes.string.isRequired\n};\n\nexport default LyricDownloadModal;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport LyricSelectionModal from './LyricSelectionModal';\nimport LyricDownloadModal from './LyricDownloadModal';\n\nconst LyricCardModal = ({ isOpen, onClose, song, lyricText }) => {\n  const [selectedText, setSelectedText] = useState('');\n  const [showDownloadModal, setShowDownloadModal] = useState(false);\n\n  const handleGenerateCard = (text) => {\n    console.log('Selected Text for Lyric Card:', text);\n    setSelectedText(text);\n    setShowDownloadModal(true);\n  };\n\n  const handleCloseDownloadModal = () => {\n    setShowDownloadModal(false);\n  };\n\n  const handleCloseAll = () => {\n    setShowDownloadModal(false);\n    setSelectedText('');\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <>\n      {showDownloadModal ? (\n        <LyricDownloadModal\n          isOpen={showDownloadModal}\n          onClose={handleCloseDownloadModal}\n          onCloseAll={handleCloseAll}\n          song={song}\n          selectedText={selectedText}\n        />\n      ) : (\n        <LyricSelectionModal isOpen={isOpen} onClose={handleCloseAll} lyricText={lyricText} onGenerateCard={handleGenerateCard} />\n      )}\n    </>\n  );\n};\n\nLyricCardModal.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  song: PropTypes.shape({\n    title: PropTypes.string,\n    artist: PropTypes.string\n  }).isRequired,\n  lyricText: PropTypes.string.isRequired\n};\n\nexport default LyricCardModal;\n","\n// This file is automatically generated by generateBuildInfo.js at build time. DO NOT EDIT!!!\n// Ref: Copilot\nexport const buildDate = \"Dec 13, 2025\";\n","import React, { PureComponent } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Toast from '../../components/Toast/Toast';\nimport BaiHatService from './BaiHatService';\nimport backgroundImage from '../../assets/images/background.jpg';\nimport spinImage from '../../assets/images/spin.jpg';\nimport BaiHatTable from './BaiHatTable';\nimport Player from './Player';\nimport Setting from './Setting';\nimport LeftPlayground from './LeftPlayground';\nimport { NO_LYRIC, FETCHING_LYRIC, LYRIC_NOT_FOUND, THEME_LIGHT } from '../../constants/Constants';\nimport {\n  getById,\n  saveSetting,\n  getSetting,\n  decodeTime,\n  createNewElement,\n  myParseFloat,\n  getByClass,\n  filterTable,\n  getAbsoluteUrl,\n  isValidDate,\n  formatDateMY\n} from '../../service/UtilService';\nimport { scrollPage, scrollInsideElementToCenter } from '../../service/scroll';\nimport { LiliContext } from '../../context/LiliContext';\nimport LyricCardModal from '../../components/LyricCard/LyricCardModal';\nimport './BaiHat.css';\nimport { buildDate } from '../../buildInfo';\n\nclass BaiHat extends PureComponent {\n  static contextType = LiliContext;\n\n  constructor(props) {\n    super(props);\n    let flipWaveform = getSetting('flipWaveform');\n    if (flipWaveform === undefined || flipWaveform === null) {\n      flipWaveform = false;\n    }\n    this.state = {\n      songData: [],\n      params: {\n        page: 0\n      },\n      analyser: null,\n      loading: false,\n      song: {}, // current song\n      showSetting: false,\n      isFullscreen: !!getSetting('fullscreen'), // !!null = false\n      showWaveform: getSetting('showWaveform') || false,\n      flipWaveform: flipWaveform,\n      isPlaying: false,\n      spinning: false,\n      showLyricCardModal: false\n    };\n\n    this.lines = [];\n    this.isLrc = false;\n    this.hasTranslation = false;\n    this.startTimes = [];\n    this.endTimes = [];\n    this.cntWord = 0;\n    this.offsetTime = 0;\n    this.currWordID = -1;\n    this.metaExist = false;\n    this.lyricMeta = {};\n    this.myAudio = null;\n    this.playLyricInterval = null;\n    this.countdownInterval = null;\n    this.currErrWord = null;\n    this.playerInstance = null;\n    this.waveformInstance = null;\n    this.initSettingsAtPlayer = null;\n    this.div_result = React.createRef();\n    this.lyric_playground = React.createRef();\n    this.div_background = React.createRef();\n    this.div_left_wrapper = React.createRef();\n  }\n\n  componentDidMount() {\n    const sortBy = getSetting('sortBy');\n    const sortOrder = getSetting('sortOrder');\n    this.getAllSongs(\n      {\n        sortBy,\n        sortOrder\n      },\n      true\n    );\n\n    // tham chiu ti myAudio ca component con, thc ra c th dng:\n    // this.myAudio = this.playerInstance.myAudio;\n    // nhng mun dng c 2 cch nn  nh vy\n    // (playerInstance ch dng  call cc function trong component Player)\n    this.myAudio = this.child.myAudio;\n\n    if (this.state.isFullscreen) {\n      this.setFullscreen();\n    }\n\n    window.addEventListener('keydown', (e) => {\n      if (!this.myAudio) return;\n\n      switch (e.key) {\n        case 'ArrowLeft':\n          this.myAudio.currentTime -= 5;\n          this.onSeeked();\n          break;\n        case 'ArrowRight':\n          this.myAudio.currentTime += 5;\n          this.onSeeked();\n          break;\n        default:\n          break;\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.clearPlayLyricInterval();\n    this.clearCountdownInterval();\n  }\n\n  initAnalyzer = () => {\n    if (this.state.analyser) return;\n    const audioContext = new (window.AudioContext || window.webkitAudioContext)(); // Safari uses webkitAudioContext\n    const audioSrcNode = audioContext.createMediaElementSource(this.myAudio);\n    const analyser = audioContext.createAnalyser();\n    audioSrcNode.connect(analyser);\n    analyser.connect(audioContext.destination);\n    analyser.fftSize = 128;\n    this.setState({\n      analyser\n    });\n  };\n\n  getAllSongs = (params, isPlaySong = false) => {\n    this.setState({ loading: true });\n    const sort = params.sortBy ? params.sortBy + ',' + params.sortOrder : this.state.params.sort;\n    if (params.sortBy) {\n      saveSetting('sortBy', params.sortBy);\n      saveSetting('sortOrder', params.sortOrder);\n    }\n    const newParams = {\n      ...this.state.params,\n      ...params,\n      sort\n    };\n    this.setState({\n      params: newParams\n    });\n    BaiHatService.getAllSongs(newParams)\n      .then((res) => {\n        const path = this.props.match.params.id;\n        let song = {};\n        let currInx = 0;\n        if (path) {\n          song = res.find((obj, idx) => {\n            if (obj.path === path) {\n              currInx = idx;\n              return true;\n            }\n            return false;\n          });\n        }\n\n        this.setState({\n          songData: res,\n          loading: false\n        });\n        this.playerInstance.setPlayList(res, currInx); // danh sch pht v 1 bi trong danh sch  mun c pht ngay lc ny\n        if (isPlaySong && song.path) {\n          this.playSong(song);\n        }\n        this.scrollTableToActiveSong(song);\n      })\n      .catch((err) => {\n        console.log(err);\n        Toast.error(err);\n        this.setState({\n          loading: false\n        });\n      });\n  };\n\n  /**\n   * Play a song\n   * @param {JSON} song info of a song we want to play\n   */\n  playSong = (song, isScrollTr = false) => {\n    console.log(`Start playing ${song.title} - ${song.artist}...`);\n    if (this.props.match.params.id !== song.path) {\n      window.location.href = '#/bai-hat/' + song.path;\n    }\n\n    if (song.zing_id) {\n      song.zingStream = getAbsoluteUrl('/api/zing/mp3/streaming?zing_id=' + song.zing_id);\n    }\n\n    // [js_async] cn ch setState xong  n render xong , sau  mi fetch lyric,\n    // bi v trong getLyric, nu c lyric, s ch hm BaiHatService.getLyric\n    // thc hin xong mi gi saveLyric, cn khi ko c lyric s gi lun hm setNoLyric.\n    // 2 trng hp  khc nhau dn n kq khc nhau (c lyric th ok, ko c th li)!\n    this.setState({ song }, () => {\n      this.getLyric(song);\n    });\n    const image_url = song && song.image_url ? getAbsoluteUrl(song.image_url) : spinImage;\n    this.playerInstance.setActiveAudio(song);\n    this.playerInstance.setMediaSessionMeta(song.title, song.artist, image_url);\n\n    if (isScrollTr) {\n      this.scrollTableToActiveSong(song);\n    }\n  };\n\n  scrollTableToActiveSong = (song = {}) => {\n    const songTable = getById('songTable');\n    if (!songTable || !song.id) return;\n    const allSongValue = songTable.parentNode;\n    const activeTr = getById('tr-' + song.id);\n    // allSongValue.scrollTop = activeTr.offsetTop - 34; // 34px = height of table header\n    scrollInsideElementToCenter(allSongValue, activeTr, 300); // ch cn animation ch ny u :v\n  };\n\n  getLyric = (song) => {\n    // FetchingLyric\n    this.div_result.innerHTML = FETCHING_LYRIC;\n    this.lines = [];\n    if (song.lyric) {\n      // Currently only support .lrc, .xlrc and .trc. Will support .xtrc in the future\n      // .lrc: lyric with time for each line\n      // .xlrc: lrc lyric with translation\n      // .trc: lyric with time for each line and word\n      // .xtrc: trc lyric with translation\n      if (song.lyric.endsWith('.lrc')) {\n        this.isLrc = true;\n        this.hasTranslation = false;\n      } else if (song.lyric.endsWith('.xlrc')) {\n        this.isLrc = true;\n        this.hasTranslation = true;\n      } else {\n        this.isLrc = false;\n        this.hasTranslation = false;\n      }\n      BaiHatService.getLyric(song.lyric)\n        .then((res) => {\n          if (res === LYRIC_NOT_FOUND) this.setNoLyric();\n          else this.saveLyric(res);\n        })\n        .catch((err) => {\n          console.log(err);\n          Toast.error(err);\n        });\n    } else {\n      this.setNoLyric();\n    }\n  };\n\n  saveLyric = (lyric) => {\n    this.lines = lyric.trim().split('\\n');\n    this.initLyric();\n  };\n\n  isNoLyric = () => {\n    return this.lines.length === 0;\n  };\n\n  setNoLyric = () => {\n    this.lines = [];\n    this.initLyric();\n  };\n\n  initLyric = () => {\n    this.setPlayLyricInterval();\n    this.div_result.innerHTML = '';\n    this.startTimes = [];\n    this.endTimes = [];\n    this.tranMaps = [];\n    this.cntWord = 0;\n    this.offsetTime = 0;\n    this.currWordID = -1;\n    this.playerInstance.playAudio();\n\n    if (this.isNoLyric()) {\n      this.div_result.innerHTML = NO_LYRIC;\n    } else {\n      this.metaExist = false;\n      this.lyricMeta = {};\n      this.div_result.innerHTML = '';\n      if (this.isLrc) this.initLrcLyric();\n      else this.initTrcLyric();\n    }\n\n    this.initSettingsAtPlayer();\n  };\n\n  initTrcLyric = async () => {\n    let temp, startLine, words, startWord, endWord, divLine;\n\n    // Note: dng \"for in\" ko c, phi dng \"for await of\"\n    // Ref: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of\n    for await (let line of this.lines) {\n      temp = line.match(/\\[\\d+:\\d+\\.\\d+\\]/g); // ex: temp = [\"[1:15.047]\"]\n      if (temp != null) {\n        startLine = decodeTime(temp[0]); // ex: 75.047\n        temp = line.substring(temp[0].length); // ex: <271>I <256>keep <790>saying <1254>no\n        words = temp.match(/<\\d+>[^<]*/g);\n        divLine = createNewElement('div', null, 'line');\n\n        if (words == null) {\n          // Trng hp ny xy ra vi cc file lyric c ca TTPod, n c 1-2 dng nh ny:\n          // [99:00.100],!\n          // (Ko c millisecond, chng hn <123>) Tt nht l ignore\n          continue;\n        }\n\n        startWord = startLine;\n        for await (let word of words) {\n          // match(/\\d+/)[0]: ly s u tin trong string ny\n          // VD: string ny c dng: \"<123>demo \" th kt qu l 123\n          // VD: string ny c dng: \"<123>demo 949\" th kt qu l 123\n          endWord = startWord + parseFloat(word.match(/\\d+/)[0]) / 1000;\n          endWord = myParseFloat(endWord);\n\n          // Do lu time vo 2 mng startTimes v endTimes nn vic\n          // thm attribute time-start v time-start ch dng  debug\n          let spanWord = createNewElement('span', 'word-' + this.cntWord, 'not-pass-word', {\n            'time-start': startWord,\n            'time-end': endWord\n          });\n          spanWord.innerText = word.replace(/<\\d+>/, '');\n          if (spanWord.innerText.trim() === '') {\n            spanWord.innerHTML = '&nbsp;';\n            spanWord.setAttribute('is-empty', '1');\n          }\n          this.startTimes[this.cntWord] = startWord;\n          this.endTimes[this.cntWord] = endWord;\n\n          startWord = endWord;\n          this.cntWord++;\n          divLine.appendChild(spanWord);\n        }\n        this.div_result.appendChild(divLine);\n      } else {\n        this.readLyricMeta(line);\n      }\n    }\n\n    this.appendLyricMeta();\n  };\n\n  initLrcLyric = async () => {\n    let lineTime = '',\n      lineTimeLen,\n      lineTranTag,\n      tranNum,\n      lineTranText,\n      lineWords,\n      startLine;\n    let lineMap = new Map(); // key l 1 phn t trong mng startTimes\n\n    // Map<tranNum, Map<startLine, lineTranText>>\n    let lineTranMap = new Map();\n\n    // 1. Parse lyric\n\n    // ex: line = \"[01:53.41][00:28.13]Ngi theo hng hoa \"\n    for await (let line of this.lines) {\n      // lineTime c th c 1 hoc nhiu phn t, ex: lineTime = ['[01:53.41]', '[00:28.13]']\n      lineTime = line.match(/\\[\\d+:\\d+\\.\\d+\\]/g);\n\n      // Dng c lineTranTag l dng dch, c th c nhiu loi ngn ng khc nhau, ex:\n      // [tran1]Wmen titu wng tinkng\n      // [tran2]We raise our heads to the sky\n      // ex: lineTranTag = ['[tran1]'], should have only 1 element\n      lineTranTag = line.match(/\\[tran\\d+\\]/g);\n\n      if (lineTime != null) {\n        // ex: lineTimeLen = length ca [01:53.41][00:28.13] = 20\n        lineTimeLen = lineTime.reduce((total, curr) => total + curr.length, 0);\n        lineWords = line.substring(lineTimeLen); // ex: \"Ngi theo hng hoa \"\n\n        for await (const lineT of lineTime) {\n          startLine = decodeTime(lineT); // ex: startLine = decodeTime('[01:53.41]') = 113.41\n          this.startTimes[this.cntWord] = startLine;\n\n          // ex: lineMap = { 113.41 => \"Ngi theo hng hoa \", 28.13 => \"Ngi theo hng hoa \" }\n          lineMap.set(startLine, lineWords);\n\n          this.cntWord++;\n        }\n      } else if (lineTranTag != null) {\n        // V lineTranTag bt buc phi theo sau lineTime nn ta c th dng startLine  lm key cho mi lineTranTag\n        tranNum = lineTranTag[0].substring(1, lineTranTag[0].length - 1); // ex: tranNum = 'tran1'\n        lineTranText = line.substring(lineTranTag[0].length);\n        if (!lineTranMap.has(tranNum)) {\n          lineTranMap.set(tranNum, new Map());\n        }\n        lineTranMap.get(tranNum).set(startLine, lineTranText);\n      } else {\n        this.readLyricMeta(line);\n      }\n    }\n\n    this.startTimes.sort(function (a, b) {\n      return a - b;\n    });\n\n    // 2. Generate lyric (HTML) to display\n\n    for (let i = 0; i < this.startTimes.length; i++) {\n      let divLine = createNewElement('div', null, 'line');\n\n      let spanWord = createNewElement('span', 'word-' + i, 'not-pass-word', null);\n      spanWord.innerText = lineMap.get(this.startTimes[i]);\n      if (spanWord.innerText === '') {\n        spanWord.innerHTML = '&nbsp';\n        spanWord.setAttribute('is-empty', '1');\n      }\n      divLine.appendChild(spanWord);\n\n      // Add translation\n      if (lineTranMap.size > 0) {\n        for (let [key, value] of lineTranMap) {\n          if (value.has(this.startTimes[i])) {\n            let spanTran = createNewElement('div', null, 'line-tran ' + key, null);\n            spanTran.innerText = value.get(this.startTimes[i]);\n            divLine.appendChild(spanTran);\n          }\n        }\n      }\n\n      this.div_result.appendChild(divLine);\n    }\n    this.appendLyricMeta();\n\n    for (let i = 0; i < this.startTimes.length - 1; i++) {\n      this.endTimes[i] = this.startTimes[i + 1];\n    }\n    this.endTimes[this.startTimes.length - 1] = this.myAudio.duration;\n  };\n\n  // Note: c trng hp 1 dng meta c k t c bit, chng hn: '[by: Tuzaku]\\r'\n  // Lc ny substring s b bug: this.lyricMeta.by = \"Tuzaku]\"\n  // Ci bug  ko nhiu, k, khi fix! =>  fix\n  readLyricMeta = (line = '') => {\n    const end = line.lastIndexOf(']');\n    if (line.includes('offset:')) {\n      // ex: [offset:-200]\n      this.offsetTime = line.match(/[0-9|-]+/g);\n      this.offsetTime = parseInt(this.offsetTime);\n    } else if (line.includes('[author:')) {\n      // ex: [author:Tuzaku]\n      // deprecated, lyric file should use [by:] instead\n      this.metaExist = true;\n      this.lyricMeta.by = line.substring('[author:'.length, end).trim();\n    } else if (line.includes('[by:')) {\n      // ex: [by:Tuzaku]\n      this.metaExist = true;\n      this.lyricMeta.by = line.substring('[by:'.length, end).trim();\n    } else if (line.includes('[createdDate:')) {\n      // ex: [createdDate:2021-06-28]\n      // deprecated, lyric file should use [date:] instead\n      this.metaExist = true;\n      this.lyricMeta.date = line.substring('[createdDate:'.length, end).trim();\n    } else if (line.includes('[date:')) {\n      // ex: [date:2021-06-28]\n      this.metaExist = true;\n      this.lyricMeta.date = line.substring('[date:'.length, end).trim();\n    } else if (line.includes('[source:')) {\n      // ex: [date:2021-06-28]\n      this.metaExist = true;\n      this.lyricMeta.source = line.substring('[source:'.length, end).trim();\n    } else if (line.includes('[ti:')) {\n      // ex: [date:2021-06-28]\n      this.metaExist = true;\n      this.lyricMeta.title = line.substring('[ti:'.length, end).trim();\n    } else if (line.includes('[ar:')) {\n      // ex: [date:2021-06-28]\n      this.metaExist = true;\n      this.lyricMeta.artist = line.substring('[ar:'.length, end).trim();\n    }\n  };\n\n  appendLyricMeta = () => {\n    if (this.metaExist) {\n      this.div_result.appendChild(createNewElement('div', null, 'line-meta')); // empty line\n      let divLine = createNewElement('div', null, 'line-meta');\n      divLine.innerText = '-----------';\n      this.div_result.appendChild(divLine);\n\n      const divLyricInfo = createNewElement('div', null, 'lyric-info');\n      this.div_result.appendChild(divLyricInfo);\n\n      // Song meta\n      if (this.lyricMeta.title) {\n        divLine = createNewElement('div', null, 'line-meta', { style: 'font-weight:bold' });\n        divLine.innerText = this.lyricMeta.title + ' - ' + this.lyricMeta.artist;\n        divLyricInfo.appendChild(divLine);\n      }\n\n      // Lyric meta\n      if (this.lyricMeta.by) {\n        divLine = createNewElement('div', null, 'line-meta');\n        divLine.innerText = 'Lyric creator: ' + this.lyricMeta.by;\n        divLyricInfo.appendChild(divLine);\n      }\n      if (this.lyricMeta.source) {\n        divLine = createNewElement('div', null, 'line-meta');\n        divLine.innerText = 'Source: ' + this.lyricMeta.source;\n        divLyricInfo.appendChild(divLine);\n      }\n      if (this.lyricMeta.date) {\n        const d = new Date(this.lyricMeta.date);\n        const dStr = isValidDate(d) ? formatDateMY(d) : d;\n        divLine = createNewElement('div', null, 'line-meta');\n        divLine.innerText = 'Date: ' + dStr;\n        divLyricInfo.appendChild(divLine);\n      }\n    }\n  };\n\n  setPlayLyricInterval = () => {\n    if (this.myAudio && !this.myAudio.paused) {\n      this.playLyricInterval = setInterval(() => {\n        this.updateLyric();\n      }, 30);\n    }\n  };\n\n  clearPlayLyricInterval = () => {\n    if (this.playLyricInterval) clearInterval(this.playLyricInterval);\n    this.playLyricInterval = null;\n  };\n\n  onSeeked = () => {\n    this.clearCountdownInterval();\n    if (!this.playLyricInterval) {\n      this.updateLyric();\n    }\n    setTimeout(() => {\n      if (!this.isNoLyric()) {\n        this.reUpdateWordPass();\n      }\n    }, 0);\n    this.scrollLyric();\n  };\n\n  onPause = () => {\n    this.clearCountdownInterval();\n    this.clearPlayLyricInterval();\n    this.setState({ isPlaying: false, spinning: false });\n    if (this.waveformInstance) this.waveformInstance.stopWaveform();\n  };\n\n  onPlay = () => {\n    if (!this.playLyricInterval) this.setPlayLyricInterval();\n    this.setState({ isPlaying: true, spinning: true });\n    if (this.myAudio.currentTime === 0) {\n      const path = this.props.match.params.id;\n      if (path) {\n        setTimeout(() => {\n          let currPath = this.props.match.params.id;\n          if (currPath === path) {\n            BaiHatService.updateListen(path)\n              .then((res) => {\n                console.log(res);\n              })\n              .catch((err) => {\n                console.log(err);\n                Toast.error(err);\n              });\n          }\n        }, 60000); // nghe 1 bi qu 1 pht mi tnh 1 lt nghe\n      }\n      setTimeout(() => {\n        // re-update passed words (in fact, all words are not passed words)\n        if (getById('word-0') && !this.isNoLyric()) {\n          for (let i = 0; i < this.cntWord; i++) {\n            getById('word-' + i).classList.add('not-pass-word');\n          }\n        }\n      }, 0);\n    }\n    if (this.state.showWaveform && this.waveformInstance) this.drawWave();\n  };\n\n  countdownAtEmptyWord = (currWord) => {\n    let nextWord = getById('word-' + (this.currWordID + 1));\n    if (nextWord) {\n      let timeDiff = this.endTimes[this.currWordID] - this.startTimes[this.currWordID];\n      let timeLeft = this.endTimes[this.currWordID] + this.offsetTime / 1000 - this.myAudio.currentTime;\n      if ((timeDiff >= 5 && timeLeft <= 5) || (timeDiff >= 3 && timeLeft <= 3)) {\n        BaiHatService.setBulletText(this.lyric_playground, currWord, Math.ceil(timeLeft));\n      }\n    }\n  };\n\n  updateLyric = async () => {\n    if (this.isNoLyric()) {\n      this.clearPlayLyricInterval();\n      return;\n    }\n\n    let prevWord, prevParent;\n\n    // Chy hiu ng karaoke cho t hin ti\n    if (this.currWordID >= 0) {\n      const st = this.startTimes[this.currWordID] + this.offsetTime / 1000;\n      const en = this.endTimes[this.currWordID] + this.offsetTime / 1000;\n      const currWord = getById('word-' + this.currWordID);\n\n      if (st <= this.myAudio.currentTime && en >= this.myAudio.currentTime) {\n        // TODO change this to state variable, or class variable (karaokeMode)\n        if (this.div_result.classList.contains('karaoke-mode')) {\n          BaiHatService.runKaraokeEffect(this.lyric_playground, this.myAudio, currWord, st, en);\n        }\n        if (currWord.getAttribute('is-empty') === '1') {\n          this.countdownAtEmptyWord(currWord);\n        }\n\n        return;\n      }\n\n      // Sau khi myAudio.currentTime nm ngoi khong [st:en] th  i qua\n      // word hin ti, lc ny currWord s tr thnh preWord\n      prevWord = getById('word-' + this.currWordID);\n      if (prevWord && prevWord.getAttribute('is-empty') === '1') {\n        // Xa bullet text  t trc , thng th t  s ng trn 1 empty line\n        BaiHatService.setBulletText(this.lyric_playground, prevWord, 0);\n      }\n\n      // C th t trc  mi ch fill 95% chng hn, ta cn fill nt t \n      BaiHatService.fillKaraokeWord(this.lyric_playground, prevWord);\n\n      prevParent = prevWord.parentNode;\n      prevWord.classList.remove('word-active', 'curr-word');\n    }\n\n    // Sau khi chy xong hiu ng karaoke cho t hin ti, word ny tr thnh prevWord,\n    // cn tm currWord mi, sau  thm cc class cho currWord, currLine,\n    // cc t trc v sau currWord  trn cng 1 line\n    this.gotoNextWord(prevWord, prevParent);\n  };\n\n  gotoNextWord = async (prevWord, prevParent) => {\n    this.currWordID = this.getCurrentWordByTime(this.myAudio.currentTime);\n    if (this.currWordID >= 0) {\n      const currWord = getById('word-' + this.currWordID);\n      const currParent = currWord.parentNode;\n\n      currWord.classList.add('word-active', 'curr-word');\n      currWord.classList.remove('not-pass-word');\n\n      if (prevParent !== currParent) {\n        if (prevParent) {\n          prevParent.classList.remove('line-active');\n          for await (let child of prevParent.children) {\n            if (child === prevWord) break;\n            child.classList.remove('word-active');\n          }\n        }\n\n        currParent.classList.add('line-active');\n      }\n      this.activeAtCurr(currWord, currParent);\n    } else {\n      this.removeActiveLastLine();\n    }\n  };\n\n  /**\n   * Active cc t trc currWord, v remove active cho cc t pha sau currWord\n   * @param {HTMLElement} currWord tag ny l current word\n   * @param {HTMLElement} currParent tag ny l cha cha current word  trn\n   */\n  activeAtCurr = (currWord, currParent) => {\n    let currIndex;\n    for (let i = 0; i < currParent.children.length; i++) {\n      if (currParent.children[i] === currWord) {\n        currIndex = i;\n        break;\n      }\n      currParent.children[i].classList.add('word-active');\n    }\n    for (let i = currIndex + 1; i < currParent.children.length; i++) {\n      if (!currParent.children[i].classList.contains('word-active')) break;\n      currParent.children[i].classList.remove('word-active');\n    }\n\n    // scroll\n    if (currWord === currParent.childNodes[0]) {\n      setTimeout(() => {\n        this.scrollLyric();\n      }, 110); // phi ch cho CSS transition xong mi get c height ng\n    }\n  };\n\n  /**\n   * Chy ht nhc th xa active  dng cui cng\n   */\n  removeActiveLastLine = async () => {\n    const finalLine = getById('word-' + (this.cntWord - 1)).parentNode;\n    if (finalLine.classList.contains('line-active')) {\n      finalLine.classList.remove('line-active');\n      for await (let child of finalLine.children) {\n        child.classList.remove('word-active');\n      }\n    }\n  };\n\n  // TODO khi ht bi cn scroll xung cui cng (metadata), nu khng c info khng thy c\n  scrollLyric = (currWord = null) => {\n    if (currWord == null) {\n      currWord = getById('word-' + this.currWordID);\n    }\n    if (currWord != null) {\n      this.div_result.scrollTop =\n        20 +\n        currWord.parentNode.offsetTop -\n        getById('word-0').offsetTop -\n        this.div_result.offsetHeight / 2 +\n        currWord.parentNode.clientHeight / 2; // height of parent of currWord (div.line.active-line)\n    }\n  };\n\n  getCurrentWordByTime = (sec) => {\n    let lo = 0,\n      hi = this.cntWord - 1;\n    let mid, st, en;\n\n    while (lo <= hi) {\n      mid = parseInt((lo + hi) / 2);\n      st = this.startTimes[mid] + this.offsetTime / 1000;\n      en = this.endTimes[mid] + this.offsetTime / 1000;\n\n      if (st <= sec && en >= sec) {\n        // Nu nh c 2 t c khong thi gian b chng\n        // ln nhau th ta u tin t ng ng sau\n        st = this.startTimes[mid + 1] + this.offsetTime / 1000;\n        en = this.endTimes[mid + 1] + this.offsetTime / 1000;\n        if (st <= sec && en >= sec) return mid + 1;\n        else return mid;\n      } else if (st > sec) hi = mid - 1;\n      else lo = mid + 1;\n    }\n\n    if (mid === 0 || mid === this.cntWord - 1) mid = -1;\n    else {\n      // ko tm thy th no c st <= sec <= en (do lyric b sai).\n      // tuy vy, vn return th gn  nht\n      // if(mid)\n      if (mid && mid !== this.currErrWord) {\n        Toast.warn(`Warning: lyric is not correct near \"${getById('word-' + mid).innerText}\"`);\n        this.currErrWord = mid;\n      }\n    }\n\n    // delete interval when finish song!\n    if (sec > this.endTimes[this.cntWord - 1]) this.clearPlayLyricInterval();\n\n    return mid;\n  };\n\n  clearCountdownInterval = () => {\n    clearInterval(this.countdownInterval);\n    this.countdownInterval = null;\n  };\n\n  reUpdateWordPass = () => {\n    // this.currWordID gi s l v tr mi sau thao tc seek nhy ti\n    this.currWordID = this.getCurrentWordByTime(this.myAudio.currentTime);\n    if (this.currWordID >= 0) {\n      for (let i = 0; i < this.currWordID; i++) {\n        let passedWord = getById('word-' + i);\n        passedWord.classList.remove('not-pass-word');\n        if (passedWord.getAttribute('is-empty') === '1') {\n          passedWord.innerHTML = '&nbsp;'; // remove bullet text\n        }\n        BaiHatService.fillKaraokeWord(this.lyric_playground, passedWord);\n        this.removeLineActive(passedWord);\n      }\n      for (let i = this.currWordID; i < this.cntWord; i++) {\n        let notPassWord = getById('word-' + i);\n        notPassWord.classList.add('not-pass-word');\n        if (notPassWord.getAttribute('is-empty') === '1') {\n          notPassWord.innerHTML = '&nbsp;'; // remove bullet text\n        }\n        BaiHatService.emptyKaraokeWord(notPassWord);\n        this.removeLineActive(notPassWord);\n      }\n      // addLineActive\n      getById('word-' + this.currWordID).parentNode.classList.add('line-active');\n    }\n  };\n\n  removeLineActive = (child) => {\n    if (child.parentNode.classList.contains('line-active')) {\n      child.parentNode.classList.remove('line-active');\n    }\n  };\n\n  toggleSetting = (isShow) => {\n    this.setState({\n      showSetting: isShow\n    });\n  };\n\n  toggleFullscreen = () => {\n    const isFullscreen = !this.state.isFullscreen;\n    if (isFullscreen) {\n      this.setFullscreen();\n    } else {\n      this.unsetFullscreen();\n    }\n    this.setState({ isFullscreen });\n    saveSetting('fullscreen', isFullscreen);\n    setTimeout(() => {\n      this.scrollLyric();\n    }, 350);\n  };\n\n  toggleWaveform = () => {\n    const showWaveform = !this.state.showWaveform;\n    this.setState({ showWaveform }, () => {\n      if (!this.waveformInstance) return;\n      if (showWaveform) this.drawWave();\n      else this.waveformInstance.stopWaveform();\n    });\n    saveSetting('showWaveform', showWaveform);\n  };\n\n  drawWave = async () => {\n    // phi i analyzer khi to xong mi draw waveform c\n    await this.initAnalyzer();\n    this.waveformInstance.drawWaveform();\n  };\n\n  setFullscreen = () => {\n    let body_wrapper = getByClass('body_wrapper');\n    document.body.classList.add('overflow-hidden');\n    body_wrapper.classList.add('body-fs');\n    body_wrapper.classList.remove('body-normal');\n  };\n\n  unsetFullscreen = () => {\n    let body_wrapper = getByClass('body_wrapper');\n    document.body.classList.remove('overflow-hidden');\n    body_wrapper.classList.remove('body-fs');\n    body_wrapper.classList.add('body-normal');\n    setTimeout(() => {\n      scrollPage(this.lyric_playground, 300);\n    }, 200);\n  };\n\n  updateSyncLyric = (offset) => {\n    this.offsetTime += offset;\n    Toast.success('Offset lyric: ' + this.offsetTime + 'ms');\n  };\n\n  onSearch = (obj) => {\n    filterTable('songTable', 1, obj.value ? obj.value : '');\n  };\n\n  createLyricCard = () => {\n    if (this.isNoLyric()) {\n      Toast.warn('No lyric available to create a card');\n      return;\n    }\n    this.setState({ showLyricCardModal: true });\n  };\n\n  closeLyricCardModal = () => {\n    this.setState({ showLyricCardModal: false });\n  };\n\n  render() {\n    const {\n      songData,\n      song,\n      showSetting,\n      isFullscreen,\n      isPlaying,\n      spinning,\n      showWaveform,\n      flipWaveform,\n      analyser,\n      showLyricCardModal\n    } = this.state;\n    const { theme } = this.context;\n    let songURL;\n    if (song.zing_id) {\n      songURL = song.zingStream;\n    } else {\n      songURL = song?.file_name ? getAbsoluteUrl('/api/song/file?file=' + song.file_name) : null;\n    }\n    const image_url = song?.image_url ? getAbsoluteUrl(song.image_url) : spinImage;\n    const backgroundURL = `url(${song?.image_url ? \"'\" + getAbsoluteUrl(song.image_url) + \"'\" : backgroundImage})`;\n\n    return (\n      <div\n        className={`body_wrapper ${theme === THEME_LIGHT ? 'body-light' : 'body-dark'} ${\n          isFullscreen ? 'body-fs' : 'body-normal'\n        }`}\n      >\n        <div id=\"all-song-wrapper\">\n          <div className=\"edit-time\">Posted on: Sep 3, 2021. Last modified: {buildDate ? buildDate : 'Sep 3, 2021'}.</div>\n          {songData && songData.length !== 0 && (\n            <BaiHatTable\n              songData={songData}\n              currSong={song}\n              getAllSongs={this.getAllSongs}\n              playSong={this.playSong}\n              onSearch={this.onSearch}\n              isPlaying={isPlaying}\n            />\n          )}\n        </div>\n\n        <Player\n          song={song}\n          songURL={songURL}\n          onSeeked={this.onSeeked}\n          onPause={this.onPause}\n          onPlay={this.onPlay}\n          ref={(node) => {\n            this.child = node;\n          }}\n          getPlayerInstance={(playerInstance) => {\n            this.playerInstance = playerInstance;\n          }}\n          playSong={this.playSong}\n        />\n\n        <div id=\"lyric_playground\" ref={(node) => (this.lyric_playground = node)} className=\"lyric-pg-picture-bg\">\n          <div className=\"background-wrapper\">\n            <div\n              id=\"div_background\"\n              ref={(node) => (this.div_background = node)}\n              className=\"bg-image\"\n              style={{ backgroundImage: backgroundURL, textAlign: 'center' }}\n            ></div>\n          </div>\n          <div className=\"lyric-wrapper\">\n            <div id=\"div_left_wrapper\" className=\"left-wrapper\" ref={(node) => (this.div_left_wrapper = node)}>\n              <img\n                id=\"spinning_img\"\n                crossOrigin=\"anonymous\"\n                style={{ cursor: 'pointer' }}\n                className={`left_img spinning ${spinning ? '' : 'paused-spin'}`}\n                src={image_url}\n                alt=\"Left info\"\n                onClick={() => {\n                  this.setState({ spinning: !spinning });\n                }}\n              />\n              <canvas id=\"spinning_canvas\" style={{ display: 'none' }}></canvas>\n              <LeftPlayground\n                toggleWaveform={this.toggleWaveform}\n                showWaveform={showWaveform}\n                flipWaveform={flipWaveform}\n                analyser={analyser}\n                initAnalyzer={this.initAnalyzer}\n                myAudio={this.myAudio}\n                getWaveformInstance={(waveformInstance) => {\n                  this.waveformInstance = waveformInstance;\n                }}\n                song={song}\n              />\n            </div>\n            <div\n              id=\"div_result\"\n              className=\"custom-scrollbar karaoke-mode div-res-big-active-line\"\n              style={{ textAlign: 'center' }}\n              ref={(node) => (this.div_result = node)}\n              onClick={() => this.toggleSetting(false)}\n            ></div>\n          </div>\n\n          <Setting\n            div_result={this.div_result}\n            lyric_playground={this.lyric_playground}\n            div_background={this.div_background}\n            div_left_wrapper={this.div_left_wrapper}\n            myAudio={this.myAudio}\n            showSetting={showSetting}\n            isFullscreen={isFullscreen}\n            scrollLyric={this.scrollLyric}\n            initSettingsAtPlayer={(func) => (this.initSettingsAtPlayer = func)}\n            openSetting={() => this.toggleSetting(true)}\n            updateFlipWaveform={(flip) => this.setState({ flipWaveform: flip })}\n            updateSyncLyric={(offset) => this.updateSyncLyric(offset)}\n            createLyricCard={() => this.createLyricCard()}\n          />\n\n          <div className={`${isFullscreen ? 'setbot_fs' : ''} setting_bottom`}>\n            <i className=\"fa fa-arrows-alt btn_align btn_fullscreen\" onClick={this.toggleFullscreen}></i>\n          </div>\n          <div style={{ clear: 'both' }}></div>\n        </div>\n\n        <LyricCardModal\n          isOpen={showLyricCardModal}\n          onClose={this.closeLyricCardModal}\n          song={song}\n          lyricText={this.div_result?.innerHTML || ''}\n        />\n      </div>\n    );\n  }\n}\n\n// Wrapper component to provide route params to class component\nconst BaiHatWrapper = () => {\n  const params = useParams();\n  return <BaiHat match={{ params }} />;\n};\n\nexport default BaiHatWrapper;\n"],"names":["axios","interceptors","request","use","config","newConfig","_objectSpread","paramsSerializer","params","queryString","stringify","obj","Object","keys","forEach","k","undefined","arrayFormat","baseURL","process","headers","Pragma","localStorage","getItem","ACCESS_TOKEN","Authorization","concat","error","console","log","Promise","reject","response","data","status","auth","redirectToLoginPage","constructor","isAuthenticated","login","_ref","successCallback","failCallback","username","password","axiosClient","post","then","res","setItem","catch","err","logout","removeItem","window","location","Toast","getMe","get","info","hash","rolesHasPermission","roles","path","ROLE_TABLE","i","length","includes","this","userInfo","options","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","text","toast","success","warn","msg","message","toString","getKaraokeWordStyle","lyric_playground","isLightTheme","classList","contains","fillKaraokeWord","word","setAttribute","getAllSongs","getLyric","file","updateListen","put","setBulletText","emptyWord","bullet","innerHTML","runKaraokeEffect","myAudio","currWord","st","en","currentTime","emptyKaraokeWord","SearchBox","PureComponent","props","super","onChange","e","value","target","maxLength","errorMsg","regexValidation","regexErrorMsg","setState","onKeyUp","searchText","keyCode","onSearch","typingTimer","setTimeout","onKeyDown","clearTimeout","state","name","onClear","regex","match","invalid","focus","render","label","disabled","isRequire","type","placeholder","_jsxs","className","children","_jsx","onClick","title","onClose","caption","showModalPicture","setShowModalPicture","React","selectedSong","setSelectedSong","artist","rainbowColors","lastSoyBg","uniqueSoys","Set","songData","map","song","song_of_the_year","filter","Boolean","sort","a","b","getSoyBackgroundColor","soy","index","indexOf","getSoyTextColor","id","cellSpacing","cellPadding","style","textAlign","cursor","minWidth","sortBy","sortOrder","image_url","getAbsoluteUrl","currSong","src","alt","onClickPicture","href","playSong","isPlaying","listens","background","color","formatCreatedDate","Modal","onCloseModal","width","maxWidth","Player","_this","setMediaSessionMeta","imgUrl","favicon","navigator","mediaSession","metadata","MediaMetadata","artwork","sizes","setActionHandler","prevSong","nextSong","playAudio","pauseAudio","setPlayList","pl","activeAudioIdx","playList","initPlayList","activeAudio","setPlayType","getSetting","setActiveAudio","setMouseDown","mouseDown","clearMouseDown","toggleShuffle","playType","SHUFFLE","SEQUENCE","toggleRepeat","REPEAT_ONE","togglePlay","secsToMins","time","int","Math","floor","slice","getCurrentTime","currentTimeFormatted","currentTimePercentage","getDuration","innerText","progressBar","showCurrentTime","requestAnimationFrame","cancelAnimationFrame","showDuration","durationFormatted","duration","updateProgressBar","totalWidth","progressWrapper","offsetWidth","offsetPercentage","nativeEvent","offsetX","onSeeked","Infinity","playPromise","play","onPlay","pause","onPause","pt","arguments","shuffle","saveSetting","llPlayer","llPlayPause","componentDidMount","getPlayerInstance","onMouseDown","onMouseUp","ref","node","album","onMouseMove","preload","songURL","onLoadedMetadata","onEnded","crossOrigin","scrollInsideElementToCenter","container","element","now","elapsed","t","offset","pos","elm","pPos","parentNode","getBoundingClientRect","cPos","top","scrollTop","right","bottom","left","getRelativePos","start","change","startTime","performance","animateScroll","easeInOutQuad","scrollInsideElement","offsetHeight","scrollPage","startingY","pageYOffset","elementY","diff","document","body","scrollHeight","innerHeight","step","timestamp","percent","min","scrollTo","Setting","onChangeVolume","volume","initSettingsAtPlayer","lyricAlign","settingLyricAlign","theme","changeTheme","speed","playbackRate","vol","setKaraokeMode","setBlurMode","setGiganticLine","setWordAppear","setLineAppear","setTranslate","updateSyncLyric","align","div_result","settingTheme","themeName","div_background","display","remove","add","toggleKaraokeMode","isKaraokeMode","toggleBlurMode","isBlurMode","toggleGiganticLine","isGiganticLine","flipWaveform","flip","updateFlipWaveform","toggleWordAppear","isWordAppear","toggleLineAppear","isLineAppear","toggleTranslate","isTranslate","updateSpeed","Number","toFixed","createLyricCard","showSetting","openSetting","isFullscreen","max","Waveform","drawWaveform","analyser","canvas","innerWidth","height","canvasContext","getContext","bufferLength","frequencyBinCount","totalBar","parseInt","dataArray","Uint8Array","peakArr","Array","fill","velocityArr","WIDTH","HEIGHT","barWidth","averageRGB","getAverageRGB","barHeight","barColor","x","renderFrame","getByteFrequencyData","clearRect","fillStyle","fillRect","beginPath","strokeStyle","lineWidth","moveTo","lineTo","stroke","paused","waveformAniFr","getBarColor","heightRatio","barRatio","stopWaveform","getWaveformInstance","onresize","debounce","toggleWaveform","showWaveform","initAnalyzer","_Fragment","isOpen","lyricText","onGenerateCard","selectedText","setSelectedText","useState","lyricDisplayRef","useRef","useEffect","stopPropagation","handleTextSelection","getSelection","trim","dangerouslySetInnerHTML","__html","handleGenerateCard","onCloseAll","cardRef","setTextAlign","backgroundColor","setBackgroundColor","textColor","setTextColor","fontSize","setFontSize","fontFamily","setFontFamily","justifyContent","fontWeight","async","current","rect","size","round","dataUrl","htmlToImage","pixelRatio","cacheBust","link","createElement","songTitle","replaceAll","songArtist","download","click","copyText","clipboard","writeText","alert","showDownloadModal","setShowDownloadModal","handleCloseAll","LyricDownloadModal","handleCloseDownloadModal","LyricSelectionModal","buildDate","BaiHat","audioContext","AudioContext","webkitAudioContext","audioSrcNode","createMediaElementSource","createAnalyser","connect","destination","fftSize","isPlaySong","loading","newParams","BaiHatService","currInx","find","idx","playerInstance","scrollTableToActiveSong","isScrollTr","zing_id","zingStream","spinImage","songTable","getById","FETCHING_LYRIC","lines","lyric","endsWith","isLrc","hasTranslation","LYRIC_NOT_FOUND","setNoLyric","saveLyric","split","initLyric","isNoLyric","setPlayLyricInterval","startTimes","endTimes","tranMaps","cntWord","offsetTime","currWordID","NO_LYRIC","metaExist","lyricMeta","initLrcLyric","initTrcLyric","temp","startLine","words","startWord","endWord","divLine","_iteratorError","_iteratorAbruptCompletion","_didIteratorError","_step","_iterator","_asyncIterator","next","done","line","decodeTime","substring","createNewElement","_iteratorError2","_iteratorAbruptCompletion2","_didIteratorError2","_step2","_iterator2","parseFloat","myParseFloat","spanWord","replace","appendChild","return","readLyricMeta","appendLyricMeta","lineTimeLen","lineTranTag","tranNum","lineTranText","lineWords","lineTime","lineMap","Map","lineTranMap","_iteratorError3","_iteratorAbruptCompletion3","_didIteratorError3","_step3","_iterator3","reduce","total","curr","_iteratorError4","_iteratorAbruptCompletion4","_didIteratorError4","_step4","_iterator4","lineT","set","has","key","spanTran","end","lastIndexOf","by","date","source","divLyricInfo","d","Date","dStr","isValidDate","formatDateMY","playLyricInterval","setInterval","updateLyric","clearPlayLyricInterval","clearInterval","clearCountdownInterval","reUpdateWordPass","scrollLyric","spinning","waveformInstance","drawWave","countdownAtEmptyWord","timeDiff","timeLeft","ceil","prevWord","prevParent","getAttribute","gotoNextWord","getCurrentWordByTime","currParent","_iteratorError5","_iteratorAbruptCompletion5","_didIteratorError5","_step5","_iterator5","child","activeAtCurr","removeActiveLastLine","currIndex","childNodes","finalLine","_iteratorError6","_iteratorAbruptCompletion6","_didIteratorError6","_step6","_iterator6","offsetTop","clientHeight","sec","mid","lo","hi","currErrWord","countdownInterval","passedWord","removeLineActive","notPassWord","toggleSetting","isShow","toggleFullscreen","setFullscreen","unsetFullscreen","body_wrapper","getByClass","filterTable","showLyricCardModal","closeLyricCardModal","page","div_left_wrapper","addEventListener","componentWillUnmount","_this$div_result","context","file_name","backgroundURL","backgroundImage","THEME_LIGHT","BaiHatTable","LeftPlayground","func","clear","LyricCardModal","contextType","LiliContext","BaiHatWrapper","useParams"],"sourceRoot":""}